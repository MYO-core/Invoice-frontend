"use strict";(self.webpackChunkhexadash_tailwind=self.webpackChunkhexadash_tailwind||[]).push([[5900],{42113:(e,l,t)=>{t.d(l,{A:()=>s});t(65043);const s=t.p+"static/media/home.f87e389a5c1850fe48b55156d6a0d7b7.svg"},91734:(e,l,t)=>{t.d(l,{z:()=>x});var s,i,n=t(97775),a=t(35475),d=t(31105),o=t(57528),r=t(67947),c=t(94574);const u=(0,c.Ay)(r.A)(s||(s=(0,o.A)(["\n  .ant-breadcrumb {\n    ol{\n      @media (max-width: 575px) {\n        justify-content: center;\n      }\n    }\n    li{\n        display:flex;\n        align-items:center;\n    }\n  }\n"]))),m=c.Ay.div(i||(i=(0,o.A)(["\n  \n"])));var v=t(70579);function x(e){const{title:l,subTitle:s,routes:i,buttons:o,ghost:r,bgColor:c,className:x}=e,h=i?(0,v.jsx)(n.A,{className:"flex order-2 relative top-1.5",separator:(0,v.jsx)("span",{className:"inline-flex bg-light-extra relative -top-0.5 w-1 h-1 rounded-full"}),children:i.map(((e,l)=>l+1===i.length?(0,v.jsx)(n.A.Item,{className:"text-breadcrumbs dark:text-white30 text-15",children:e.breadcrumbName},l):(0,v.jsxs)(n.A.Item,{className:"inline-flex items-start",children:[(0,v.jsx)(d.k,{className:"relative top-0.5 ltr:mr-2 rtl:ml-2 [&>div>svg]:text-[#8c90a4] dark:[&>div>svg]:text-white60 ",src:t(42113).A})," ",(0,v.jsx)(a.N_,{to:e.path,className:"text-light hover:text-primary dark:text-[#a4a5aa] dark:hover:text-white87 text-sm",children:e.breadcrumbName})]},l)))}):"";return(0,v.jsx)(m,{bgColor:c,children:(0,v.jsx)(u,{className:"".concat(x),title:l,subTitle:s,breadcrumb:h,extra:o,ghost:r})})}},25900:(e,l,t)=>{t.r(l),t.d(l,{default:()=>L});var s=t(65043),i=t(89421),n=t(28440),a=t(47419),d=t(11645),o=t(33946),r=t(64435),c=t(10444),u=t(94406),m=t(50289),v=t(48193),x=t(5397),h=t(33307),p=t(65256),j=t(94733),f=t(41402),A=t(76191),g=t(61966),b=t(23906),y=t.n(b),C=t(80726),w=t.n(C),N=t(97975),k=t(32170);var I=t(70579);const{Option:S}=u.A,O=e=>{let{setisAddCms:l,getAllData:t,setIsEditCms:n,isEditCms:r}=e;const[c,b]=(0,s.useState)([]),[C,O]=(0,s.useState)(""),[D,E]=(0,s.useState)(!1),[F,L]=(0,s.useState)(),[U,z]=(0,s.useState)(!1),[T,_]=(0,s.useState)(!1),[B,R]=(0,s.useState)(null);console.log("content1Output",B);const[H,V]=(0,s.useState)(null),[q]=m.A.useForm();return(0,s.useEffect)((()=>{null!==r&&void 0!==r&&r.cmsId&&(z(!0),(async e=>{let{id:l}=e;return await k.p.get("/cms/".concat(l))})({id:null===r||void 0===r?void 0:r.cmsId}).then((e=>{var l,t,s;q.setFieldsValue(null===e||void 0===e?void 0:e.data),R(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.content1),V(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.content2);const i=null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.images.map(((e,l)=>({id:l,name:e,prodUrl:"https://api.hotelvarunagrand.com/uploads/".concat(e)})));b(i),z(!1)})).catch((e=>{console.log("err",e),z(!1)})))}),[null===r||void 0===r?void 0:r.cmsId]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(x.A,{spinning:U,children:(0,I.jsx)("div",{children:(0,I.jsxs)(m.A,{name:"cms",form:q,layout:"vertical",onFinish:e=>{const s={title:null===e||void 0===e?void 0:e.title,type:null===e||void 0===e?void 0:e.type,images:c&&c.map((e=>null===e||void 0===e?void 0:e.name)),content1:B,content2:H};var i;null!==r&&void 0!==r&&r.cmsId?(async e=>{let{id:l,body:t}=e;return await k.p.put("/cms/".concat(l),t)})({id:null===r||void 0===r?void 0:r.cmsId,body:s}).then((e=>{n({isOpen:!1,cmsId:""}),t(),v.Ay.success("Data updated successfully")})).catch((e=>console.log("err",e))):null===(i=(async e=>{let{body:l}=e;return await k.p.post("/cms",l)})({body:s}))||void 0===i||i.then((e=>{l(!1),t(),v.Ay.success("Data added successfully")})).catch((e=>{console.log("err :>> ",e)}))},autoComplete:"off",children:[(0,I.jsxs)(a.A,{gutter:[16,0],children:[(0,I.jsx)(d.A,{xs:24,md:12,children:(0,I.jsx)(m.A.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Required! "}],children:(0,I.jsx)(h.A,{})})}),(0,I.jsx)(d.A,{xs:24,md:12,children:(0,I.jsx)(m.A.Item,{name:"type",label:"Type",children:(0,I.jsxs)(u.A,{placeholder:"Select option...",allowClear:!0,children:[(0,I.jsx)(S,{value:"Header-Banner",children:"Header-Banner"}),(0,I.jsx)(S,{value:"Footer",children:"Footer"}),(0,I.jsx)(S,{value:"Contact-Us",children:"Contact-Us"}),(0,I.jsx)(S,{value:"About-Us",children:"About-Us"})]})})}),(0,I.jsx)(d.A,{xs:24,md:12,children:(0,I.jsxs)(m.A.Item,{label:"Image",name:"image",children:[(0,I.jsx)(p.A,{onChange:e=>{_(!0);const l=new FormData;l.append("file",e.file.originFileObj),(0,N.V)(l).then((l=>{b((t=>{var s;return[...t,{id:e.file.uid,file:e.file.originFileObj,name:null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.name}]})),_(!1)})).catch((e=>{v.Ay.error("Error while uploading"),_(!1)}))},fileList:[],children:(0,I.jsx)(i.A,{className:"flex items-center",icon:(0,I.jsx)(j.A,{}),children:"Click to Upload"})}),(0,I.jsx)("div",{className:"w-full",style:{maxHeight:"230px",overflowY:"auto"},children:(null===c||void 0===c?void 0:c.length)>0&&(null===c||void 0===c?void 0:c.map((e=>{var l;return(0,I.jsxs)("div",{className:"flex border rounded-md justify-between items-center p-1 px-3 my-1",children:[(0,I.jsxs)("div",{className:"flex",children:[(0,I.jsx)("span",{className:"mr-2",children:(0,I.jsx)(f.A,{})}),null!==e&&void 0!==e&&e.file?null===e||void 0===e||null===(l=e.file)||void 0===l?void 0:l.name:null===e||void 0===e?void 0:e.name]}),(0,I.jsxs)("div",{className:"flex gap-3 text-base",children:[(0,I.jsx)("div",{className:"cursor-pointer",children:(0,I.jsx)("div",{onClick:()=>{(async e=>{var l;const t=e;O(null!==t&&void 0!==t&&t.prodUrl?null===t||void 0===t?void 0:t.prodUrl:URL.createObjectURL(null===t||void 0===t?void 0:t.file)),E(!0),L(null!==t&&void 0!==t&&t.file?null===t||void 0===t||null===(l=t.file)||void 0===l?void 0:l.name:null===t||void 0===t?void 0:t.name)})(e)},children:(0,I.jsx)(A.A,{})})}),(0,I.jsx)("div",{className:"cursor-pointer",children:(0,I.jsx)("div",{onClick:()=>{const l=null===c||void 0===c?void 0:c.filter((l=>{var t;return null!==l&&void 0!==l&&l.file?(null===l||void 0===l||null===(t=l.file)||void 0===t?void 0:t.uid)!==(null===e||void 0===e?void 0:e.id):(null===l||void 0===l?void 0:l.id)!==(null===e||void 0===e?void 0:e.id)}));b(l)},children:(0,I.jsx)(g.A,{style:{color:"red"}})})})]})]},null===e||void 0===e?void 0:e.id)})))})]})})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)("label",{children:"Content 1:"}),(0,I.jsx)(y(),{data:B,editor:w(),onChange:(e,l)=>{R(l.getData())}})]}),(0,I.jsxs)("div",{className:"mt-4",children:[(0,I.jsx)("label",{children:"Content 2:"}),(0,I.jsx)(y(),{data:H,editor:w(),onChange:(e,l)=>{V(l.getData())}})]}),(0,I.jsxs)("div",{className:"flex justify-end gap-2 mt-5",children:[(0,I.jsx)(i.A,{onClick:()=>{l(!1),n({isOpen:!1,cmsId:""})},children:"Cancel"}),(0,I.jsx)(i.A,{type:"primary",htmlType:"submit",loading:T,children:"Submit"})]})]})})}),(0,I.jsx)(o.A,{width:410,title:F,open:D,footer:null,onCancel:()=>{E(!1),O("")},destroyOnClose:!0,children:(0,I.jsx)("img",{src:C||"",alt:C,style:{width:"400px"}})})]})};var D=t(40925),E=t(91734),F=t(57043);const L=()=>{const[e,l]=(0,s.useState)(!1),[t,u]=(0,s.useState)({isOpen:!1,cmsId:""}),[m,v]=(0,s.useState)([]),x=[{title:"Type",dataIndex:"type",key:"type",width:140},{title:"Title",dataIndex:"title",key:"title",width:150},{title:"Action",key:"action",render:(e,l)=>(0,I.jsxs)(r.A,{size:"middle",children:[(0,I.jsx)(i.A,{size:"middle",onClick:()=>u({isOpen:!0,cmsId:null===l||void 0===l?void 0:l._id}),children:"Edit"}),(0,I.jsx)(n.A,{title:"Are you sure to delete this task?",onConfirm:()=>{(async e=>{let{id:l}=e;return await k.p.delete("/cms/".concat(l))})({id:null===l||void 0===l?void 0:l._id}).then((e=>{console.log("res",e),message.success("Deleted Successfully"),h()})).catch((e=>console.log("err",e)))},okText:"Yes",cancelText:"No",children:(0,I.jsx)(i.A,{danger:!0,size:"middle",children:"Delete"})})]}),width:150}],h=()=>{(async e=>{let{start:l,limit:t}=e;return await k.p.get("/cms?start=".concat(l,"&limit=").concat(t))})({}).then((e=>{var l;e&&v(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data)})).catch((e=>console.log("err",e)))};return(0,s.useEffect)((()=>{h()}),[]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(E.z,{title:"Cms",routes:[{path:"/",breadcrumbName:"Dashboard"},{path:"/cms",breadcrumbName:"Cms"}],className:"flex items-center justify-between px-8 xl:px-[15px] pt-2 pb-6 sm:pb-[30px] bg-transparent sm:flex-col"}),(0,I.jsx)(D.rQ,{className:"p-3",children:(0,I.jsx)(a.A,{gutter:16,children:(0,I.jsx)(d.A,{sm:24,xs:24,lg:24,className:"",children:(0,I.jsx)(F.C,{moreBtn:(0,I.jsx)(i.A,{type:"primary",onClick:()=>l(!0),children:"Add"}),border:!1,size:"default",children:(0,I.jsx)(c.A,{scroll:{x:"100%",y:"auto"},columns:x,dataSource:m})})})})}),(0,I.jsx)(o.A,{title:"".concat(e?"Add":"Edit"),destroyOnClose:!0,open:e||t.isOpen,width:1024,footer:!1,onCancel:()=>{l(!1),u({isOpen:!1,cmsId:""})},children:(0,I.jsx)(O,{setisAddCms:l,getAllData:h,isEditCms:t,setIsEditCms:u})})]})}},97975:(e,l,t)=>{t.d(l,{V:()=>i});var s=t(32170);const i=async e=>await s.p.post("/upload",e)},41402:(e,l,t)=>{t.d(l,{A:()=>o});var s=t(89379),i=t(65043);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};var a=t(22172),d=function(e,l){return i.createElement(a.A,(0,s.A)((0,s.A)({},e),{},{ref:l,icon:n}))};d.displayName="LinkOutlined";const o=i.forwardRef(d)}}]);
//# sourceMappingURL=5900.4a6f1b9d.chunk.js.map