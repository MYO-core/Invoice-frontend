"use strict";(self.webpackChunkhexadash_tailwind=self.webpackChunkhexadash_tailwind||[]).push([[5037],{42113:(e,t,n)=>{n.d(t,{A:()=>o});n(65043);const o=n.p+"static/media/home.f87e389a5c1850fe48b55156d6a0d7b7.svg"},91734:(e,t,n)=>{n.d(t,{z:()=>h});var o,l,a=n(97775),s=n(35475),r=n(31105),i=n(57528),c=n(67947),d=n(94574);const u=(0,d.Ay)(c.A)(o||(o=(0,i.A)(["\n  .ant-breadcrumb {\n    ol{\n      @media (max-width: 575px) {\n        justify-content: center;\n      }\n    }\n    li{\n        display:flex;\n        align-items:center;\n    }\n  }\n"]))),m=d.Ay.div(l||(l=(0,i.A)(["\n  \n"])));var p=n(70579);function h(e){const{title:t,subTitle:o,routes:l,buttons:i,ghost:c,bgColor:d,className:h}=e,v=l?(0,p.jsx)(a.A,{className:"flex order-2 relative top-1.5",separator:(0,p.jsx)("span",{className:"inline-flex bg-light-extra relative -top-0.5 w-1 h-1 rounded-full"}),children:l.map(((e,t)=>t+1===l.length?(0,p.jsx)(a.A.Item,{className:"text-breadcrumbs dark:text-white30 text-15",children:e.breadcrumbName},t):(0,p.jsxs)(a.A.Item,{className:"inline-flex items-start",children:[(0,p.jsx)(r.k,{className:"relative top-0.5 ltr:mr-2 rtl:ml-2 [&>div>svg]:text-[#8c90a4] dark:[&>div>svg]:text-white60 ",src:n(42113).A})," ",(0,p.jsx)(s.N_,{to:e.path,className:"text-light hover:text-primary dark:text-[#a4a5aa] dark:hover:text-white87 text-sm",children:e.breadcrumbName})]},t)))}):"";return(0,p.jsx)(m,{bgColor:d,children:(0,p.jsx)(u,{className:"".concat(h),title:t,subTitle:o,breadcrumb:v,extra:i,ghost:c})})}},55037:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var o=n(65043),l=n(33307),a=n(89421),s=n(28440),r=n(48193),i=n(47419),c=n(11645),d=n(33946),u=n(64435),m=n(10444),p=n(50289),h=n(5397),v=n(32170);var x=n(70579);const f=e=>{let{setisAddRoom:t,isEditRoom:n,setIsEditRoom:s,getAllRoomList:i}=e;const[c,u]=(0,o.useState)(!1),[m,f]=(0,o.useState)(),[b,g]=(0,o.useState)(!1),[A,y]=(0,o.useState)(!1),[j]=p.A.useForm();return(0,o.useEffect)((()=>{null!==n&&void 0!==n&&n.roomId&&(g(!0),(async e=>{let{id:t}=e;return await v.p.get("/subject/".concat(t))})({id:null===n||void 0===n?void 0:n.roomId}).then((e=>{j.setFieldsValue(null===e||void 0===e?void 0:e.data),g(!1)})).catch((e=>{console.log("err",e),g(!1)})))}),[null===n||void 0===n?void 0:n.roomId]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(h.A,{spinning:b,children:(0,x.jsx)("div",{children:(0,x.jsxs)(p.A,{form:j,name:"Roles",labelCol:{span:8},wrapperCol:{span:16},onFinish:e=>{const o={name:null===e||void 0===e?void 0:e.name,code:null===e||void 0===e?void 0:e.code};var l;null!==n&&void 0!==n&&n.roomId?(async e=>{let{id:t,body:n}=e;return await v.p.put("/subject/".concat(t),n)})({id:null===n||void 0===n?void 0:n.roomId,body:o}).then((e=>{s({isOpen:!1,roomId:""}),i(),r.Ay.success("Role updated successfully")})).catch((e=>{console.log("err",e),r.Ay.error("Something Went Wrong")})):null===(l=(async e=>{let{body:t}=e;return await v.p.post("/subject",t)})({body:o}))||void 0===l||l.then((e=>{t(!1),i(),r.Ay.success("Role added successfully")})).catch((e=>{console.log("err :>> ",e),r.Ay.error("Something Went Wrong")}))},autoComplete:"off",children:[(0,x.jsx)(p.A.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Required! "}],children:(0,x.jsx)(l.A,{})}),(0,x.jsx)(p.A.Item,{label:"Code",name:"code",rules:[{required:!0,message:"Required! "}],children:(0,x.jsx)(l.A,{})}),(0,x.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,x.jsx)(a.A,{onClick:()=>{t(!1),s({isOpen:!1,RoleId:""})},children:"Cancel"}),(0,x.jsx)(a.A,{type:"primary",htmlType:"submit",loading:A,children:"Submit"})]})]})})}),(0,x.jsx)(d.A,{width:410,title:m,open:c,footer:null,onCancel:()=>{u(!1)},destroyOnClose:!0})]})};var b=n(40925),g=n(91734),A=n(57043);const{Search:y}=l.A,j=()=>{const[e,t]=(0,o.useState)(0),[n,l]=(0,o.useState)(0),[p,h]=(0,o.useState)(!1),[j,C]=(0,o.useState)({isOpen:!1,roomId:""}),[N,S]=(0,o.useState)([]),[w,k]=(0,o.useState)(""),[O,E]=(0,o.useState)(""),I=[{title:"name",dataIndex:"name",key:"name",width:140},{title:"code",dataIndex:"code",key:"code",width:140},{title:"Action",key:"action",render:(e,t)=>(0,x.jsxs)(u.A,{size:"middle",children:[(0,x.jsx)(a.A,{size:"middle",onClick:()=>C({isOpen:!0,roomId:null===t||void 0===t?void 0:t.id}),children:"Edit"}),(0,x.jsx)(s.A,{title:"Are you sure to delete this subject?",onConfirm:()=>{(async e=>{let{id:t}=e;return await v.p.delete("/subject/".concat(t))})({id:null===t||void 0===t?void 0:t.id}).then((e=>{console.log("res",e),r.Ay.success("subject Deleted Successfully"),R()})).catch((e=>{console.log("err",e),r.Ay.error("Something Went Wrong")}))},okText:"Yes",cancelText:"No",children:(0,x.jsx)(a.A,{danger:!0,size:"middle",children:"Delete"})})]}),width:150}],R=()=>{(async e=>{let{start:t,limit:n,search:o}=e,l=o?"&search=".concat(o):"";return await v.p.get("/subject?start=".concat(t,"&limit=").concat(n).concat(l))})({start:n,search:w}).then((e=>{var n,o;e&&(S(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),t(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.totalCount))})).catch((e=>{console.log("err",e),r.Ay.error("Something Went Wrong")}))};(0,o.useEffect)((()=>{R()}),[w,O,n]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g.z,{title:"Subjects",routes:[{path:"/",breadcrumbName:"Dashboard"},{path:"/subjects",breadcrumbName:"Subject"}],className:"flex items-center justify-between px-8 xl:px-[15px] pt-2 pb-6 sm:pb-[30px] bg-transparent sm:flex-col"}),(0,x.jsx)(b.rQ,{className:"p-3",children:(0,x.jsx)(i.A,{gutter:16,children:(0,x.jsx)(c.A,{sm:24,xs:24,lg:24,className:"",children:(0,x.jsx)(A.C,{title:(0,x.jsx)("div",{className:"flex items-center gap-4",children:(0,x.jsx)("div",{children:(0,x.jsx)(y,{placeholder:"Search",allowClear:!0,enterButton:"Search",size:"middle",onSearch:e=>{k(e)}})})}),moreBtn:(0,x.jsx)(a.A,{type:"primary",onClick:()=>h(!0),children:"Add"}),border:!1,size:"default",children:(0,x.jsx)(m.A,{scroll:{x:"100%",y:"auto"},columns:I,dataSource:N,pagination:{total:e,onChange:e=>{l(10*(e-1))}}})})})})}),(0,x.jsx)(d.A,{title:"".concat(p?"Add Subject":"Edit Subject"),destroyOnClose:!0,open:p||j.isOpen,footer:!1,onCancel:()=>{h(!1),C({isOpen:!1,roomId:""})},children:(0,x.jsx)(f,{setisAddRoom:h,isEditRoom:j,setIsEditRoom:C,getAllRoomList:R})})]})}},28440:(e,t,n)=>{n.d(t,{A:()=>C});var o=n(58168),l=n(5544),a=n(51376),s=n(64600),r=n.n(s),i=n(28678),c=n(25001),d=n(65043),u=n(35296),m=n(36282),p=n(12701),h=n(89421),v=n(83085),x=n(38046),f=n(38097),b=n(8376),g=n(98986),A=function(e){var t=e.prefixCls,n=e.okButtonProps,l=e.cancelButtonProps,a=e.title,s=e.cancelText,r=e.okText,i=e.okType,c=e.icon,m=e.showCancel,p=void 0===m||m,A=e.close,y=e.onConfirm,j=e.onCancel,C=d.useContext(u.QO).getPrefixCls;return d.createElement(f.A,{componentName:"Popconfirm",defaultLocale:b.A.Popconfirm},(function(e){return d.createElement("div",{className:"".concat(t,"-inner-content")},d.createElement("div",{className:"".concat(t,"-message")},c&&d.createElement("span",{className:"".concat(t,"-message-icon")},c),d.createElement("div",{className:"".concat(t,"-message-title")},(0,g.b)(a))),d.createElement("div",{className:"".concat(t,"-buttons")},p&&d.createElement(h.A,(0,o.A)({onClick:j,size:"small"},l),null!==s&&void 0!==s?s:e.cancelText),d.createElement(x.A,{buttonProps:(0,o.A)((0,o.A)({size:"small"},(0,v.D)(i)),n),actionFn:y,close:A,prefixCls:C("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==r&&void 0!==r?r:e.okText)))}))},y=void 0,j=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const C=d.forwardRef((function(e,t){var n=e.prefixCls,s=e.placement,h=void 0===s?"top":s,v=e.trigger,x=void 0===v?"click":v,f=e.okType,b=void 0===f?"primary":f,g=e.icon,C=void 0===g?d.createElement(a.A,null):g,N=e.children,S=e.overlayClassName,w=e.onOpenChange,k=e.onVisibleChange,O=j(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),E=d.useContext(u.QO).getPrefixCls,I=(0,i.A)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),R=(0,l.A)(I,2),T=R[0],P=R[1],z=function(e,t){P(e,!0),null===k||void 0===k||k(e,t),null===w||void 0===w||w(e,t)},W=E("popover",n),V=E("popconfirm",n),D=r()(V,S);return d.createElement(m.A,(0,o.A)({},O,{trigger:x,prefixCls:W,placement:h,onOpenChange:function(t){var n=e.disabled;void 0!==n&&n||z(t)},open:T,ref:t,overlayClassName:D,_overlay:d.createElement(A,(0,o.A)({okType:b,icon:C},e,{prefixCls:W,close:function(e){z(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(y,t)},onCancel:function(t){var n;z(!1,t),null===(n=e.onCancel)||void 0===n||n.call(y,t)}}))}),(0,p.Ob)(N,{onKeyDown:function(e){var t,n;d.isValidElement(N)&&(null===(n=null===N||void 0===N?void 0:(t=N.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===c.A.ESC&&T&&z(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=5037.f67fa712.chunk.js.map