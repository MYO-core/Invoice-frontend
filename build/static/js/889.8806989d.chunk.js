"use strict";(self.webpackChunkhexadash_tailwind=self.webpackChunkhexadash_tailwind||[]).push([[889],{47889:(e,t,l)=>{l.r(t),l.d(t,{default:()=>f});var o=l(65043),a=l(77047),n=l(10903),s=l(47419),i=l(11645),r=l(2013),d=l(15169),c=l(21218),u=l(94913),h=l(53722),v=l(46011),x=l(85192),p=l(32170);l(53815);var m=l(70579);const{Title:j}=a.A,{Header:A,Footer:y,Content:g}=n.A,f=()=>{var e,t,l,a,j,A,y,f;const[F,b]=(0,o.useState)({}),[w,k]=(0,o.useState)({}),[S,T]=(0,o.useState)({});(0,o.useEffect)((()=>{(async()=>await p.p.get("/dashboard/restraunt"))().then((e=>{var t;b(e.data),T(null===(t=e.data)||void 0===t?void 0:t.total)})).catch((e=>{console.log(e)})),(async()=>await p.p.get("/dashboard/hotel"))().then((e=>{k(e.data)})).catch((e=>{console.log(e)}))}),[]);const _=(null===w||void 0===w||null===(e=w.counts)||void 0===e?void 0:e.reduce(((e,t)=>(e[t.type]=t.value,e)),{}))||{},M=(null===F||void 0===F||null===(t=F.counts)||void 0===t?void 0:t.reduce(((e,t)=>(e[t.type]=t.value,e)),{}))||{},R={data:[...(null===w||void 0===w||null===(l=w.monthlyBookings)||void 0===l?void 0:l.map((e=>({month:"Month ".concat(e.date_part),value:e.sum,type:"Bookings"}))))||[],...(null===w||void 0===w||null===(a=w.monthlyIncome)||void 0===a?void 0:a.map((e=>({month:"Month ".concat(e.date_part),value:e.sum,type:"Income"}))))||[]],xField:"month",yField:"value",seriesField:"type",smooth:!0,height:300,point:{size:5,shape:"circle"},animation:{appear:{animation:"path-in",duration:500}},tooltip:{showMarkers:!0,shared:!0}},I={data:[...(null===F||void 0===F||null===(j=F.monthlyOrders)||void 0===j?void 0:j.map((e=>({month:"Month ".concat(e.date_part),value:e.count,type:"Orders"}))))||[],...(null===F||void 0===F||null===(A=F.monthlyIncome)||void 0===A?void 0:A.map((e=>({month:"Month ".concat(e.date_part),value:e.sum,type:"Income"}))))||[]],xField:"month",yField:"value",seriesField:"type",smooth:!0,height:300,point:{size:5,shape:"diamond"},animation:{appear:{animation:"path-in",duration:500}},tooltip:{showMarkers:!0,shared:!0}};function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const l=e.split(" ");return l.length>t?l.slice(0,t).join(" ")+"...":e}const H={data:(null===w||void 0===w||null===(y=w.maxBookedRooms)||void 0===y?void 0:y.map((e=>({roomType:e.roomType,count:parseInt(e.count,10)}))))||[],xField:"roomType",yField:"count",seriesField:"roomType",colorField:"roomType",height:300,label:{style:{fill:"#aaa"}},tooltip:{showMarkers:!0},animation:{appear:{animation:"scale-in-y",duration:500}}},C={data:(null===F||void 0===F||null===(f=F.top5Products)||void 0===f?void 0:f.map((e=>({name:B(e.name),count:parseInt(e.count,10)}))))||[],xField:"name",yField:"count",seriesField:"name",colorField:"name",height:300,label:{style:{fill:"#aaa"}},tooltip:{showMarkers:!0},animation:{appear:{animation:"scale-in-x",duration:500}}};return(0,m.jsxs)(n.A,{children:[(0,m.jsx)(o.Suspense,{fallback:(0,m.jsx)("div",{children:"Loading..."})}),(0,m.jsxs)(g,{style:{padding:"20px"},children:[(0,m.jsxs)(s.A,{gutter:16,children:[(0,m.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,m.jsx)(r.A,{children:(0,m.jsx)(d.A,{title:"Hotel Customers",value:(null===_||void 0===_?void 0:_.customer_count)||0,prefix:(0,m.jsx)(h.A,{}),valueStyle:{color:"#3f8600"}})})}),(0,m.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,m.jsx)(r.A,{children:(0,m.jsx)(d.A,{title:"Total Rooms",value:(null===_||void 0===_?void 0:_["total rooms"])||0,prefix:(0,m.jsx)(v.A,{}),valueStyle:{color:"#1890ff"}})})}),(0,m.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,m.jsx)(r.A,{children:(0,m.jsx)(d.A,{title:"Available Rooms",value:(null===_||void 0===_?void 0:_.available_rooms)||0,prefix:(0,m.jsx)(x.A,{}),valueStyle:{color:"#cf1322"}})})}),(0,m.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,m.jsx)(r.A,{children:(0,m.jsx)(d.A,{title:"Hotel Revenue",value:(null===_||void 0===_?void 0:_.revenue)||0,prefix:"\u20b9",valueStyle:{color:"#faad14"}})})})]}),(0,m.jsxs)(s.A,{gutter:16,style:{marginTop:16},children:[(0,m.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,m.jsx)(r.A,{children:(0,m.jsx)(d.A,{title:"Todays Sales",value:(null===S||void 0===S?void 0:S.total)||0,prefix:"\u20b9",valueStyle:{color:"#faad14"}})})}),(0,m.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,m.jsx)(r.A,{children:(0,m.jsx)(d.A,{title:"Total Orders",value:(null===M||void 0===M?void 0:M.total_orders)||0,prefix:(0,m.jsx)(h.A,{}),valueStyle:{color:"#722ed1"}})})}),(0,m.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,m.jsx)(r.A,{children:(0,m.jsx)(d.A,{title:"Available Tables",value:(null===M||void 0===M?void 0:M.available_tables)||0,prefix:(0,m.jsx)(v.A,{}),valueStyle:{color:"#1890ff"}})})}),(0,m.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,m.jsx)(r.A,{children:(0,m.jsx)(d.A,{title:"Restaurant Revenue",value:(null===M||void 0===M?void 0:M.revenue)||0,prefix:"\u20b9",valueStyle:{color:"#faad14"}})})})]}),(0,m.jsxs)(s.A,{gutter:16,style:{marginTop:16},children:[(0,m.jsx)(i.A,{xs:24,lg:12,children:(0,m.jsx)(r.A,{title:"Hotel Monthly Bookings and Income",children:(0,m.jsx)(c.A,{...R})})}),(0,m.jsx)(i.A,{xs:24,lg:12,children:(0,m.jsx)(r.A,{title:"Restaurant Monthly Orders and Income",children:(0,m.jsx)(c.A,{...I})})})]}),(0,m.jsxs)(s.A,{gutter:16,style:{marginTop:16},children:[(0,m.jsx)(i.A,{xs:24,lg:12,children:(0,m.jsx)(r.A,{title:"Most Booked Rooms (Hotel)",children:(0,m.jsx)(u.A,{...H})})}),(0,m.jsx)(i.A,{xs:24,lg:12,children:(0,m.jsx)(r.A,{title:"Top 5 Products (Restaurant)",children:(0,m.jsx)(u.A,{...C})})})]})]})]})}},53815:(e,t,l)=>{l.d(t,{FM:()=>i,FN:()=>r,W8:()=>s,hV:()=>n,zF:()=>a});var o=l(32170);const a=async e=>{let{body:t}=e;return await o.p.post("/orders",t)},n=async e=>{let{start:t,limit:l,status:a,search:n,dates:s,currentStore:i}=e,r=n?"&search=".concat(n):"",d=a?"&status=".concat(a):"",c=i?"&store_id=".concat(i):"",u="";2===s.length&&(u="&start_date=".concat(s[0],"&end_date=").concat(s[1]));return await o.p.get("/orders?start=".concat(t,"&limit=").concat(l).concat(r).concat(d).concat(u).concat(c))},s=async e=>{let{id:t}=e;return await o.p.get("/orders/".concat(t))},i=async e=>{let{id:t,body:l}=e;return await o.p.patch("/orders/".concat(t),l)},r=async e=>{let{id:t}=e;return await o.p.delete("/orders/".concat(t))}}}]);
//# sourceMappingURL=889.8806989d.chunk.js.map