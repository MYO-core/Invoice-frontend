"use strict";(self.webpackChunkhexadash_tailwind=self.webpackChunkhexadash_tailwind||[]).push([[889],{47889:(e,t,l)=>{l.r(t),l.d(t,{default:()=>g});var o=l(65043),a=l(77047),n=l(10903),s=l(47419),i=l(11645),d=l(2013),r=l(15169),c=l(74438),u=l(53722),v=l(46011),h=l(85192),x=l(32170);l(53815);var p=l(70579);const{Title:m}=a.A,{Header:j,Footer:A,Content:y}=n.A,g=()=>{var e,t,l,a,m,j,A,g;const[f,S]=(0,o.useState)({}),[b,w]=(0,o.useState)({}),[_,k]=(0,o.useState)({});(0,o.useEffect)((()=>{(async()=>await x.p.get("/dashboard/restraunt"))().then((e=>{var t;S(e.data),k(null===(t=e.data)||void 0===t?void 0:t.total)})).catch((e=>{console.log(e)})),(async()=>await x.p.get("/dashboard/hotel"))().then((e=>{w(e.data)})).catch((e=>{console.log(e)}))}),[]);const F=(null===b||void 0===b||null===(e=b.counts)||void 0===e?void 0:e.reduce(((e,t)=>(e[t.type]=t.value,e)),{}))||{},M=(null===f||void 0===f||null===(t=f.counts)||void 0===t?void 0:t.reduce(((e,t)=>(e[t.type]=t.value,e)),{}))||{},T={data:[...(null===b||void 0===b||null===(l=b.monthlyBookings)||void 0===l?void 0:l.map((e=>({month:"Month ".concat(e.date_part),value:e.sum,type:"Bookings"}))))||[],...(null===b||void 0===b||null===(a=b.monthlyIncome)||void 0===a?void 0:a.map((e=>({month:"Month ".concat(e.date_part),value:e.sum,type:"Income"}))))||[]],xField:"month",yField:"value",seriesField:"type",smooth:!0,height:300,point:{size:5,shape:"circle"},animation:{appear:{animation:"path-in",duration:500}},tooltip:{showMarkers:!0,shared:!0}},I={data:[...(null===f||void 0===f||null===(m=f.monthlyOrders)||void 0===m?void 0:m.map((e=>({month:"Month ".concat(e.date_part),value:e.count,type:"Orders"}))))||[],...(null===f||void 0===f||null===(j=f.monthlyIncome)||void 0===j?void 0:j.map((e=>({month:"Month ".concat(e.date_part),value:e.sum,type:"Income"}))))||[]],xField:"month",yField:"value",seriesField:"type",smooth:!0,height:300,point:{size:5,shape:"diamond"},animation:{appear:{animation:"path-in",duration:500}},tooltip:{showMarkers:!0,shared:!0}};function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const l=e.split(" ");return l.length>t?l.slice(0,t).join(" ")+"...":e}null===b||void 0===b||null===(A=b.maxBookedRooms)||void 0===A||A.map((e=>({roomType:e.roomType,count:parseInt(e.count,10)}))),null===f||void 0===f||null===(g=f.top5Products)||void 0===g||g.map((e=>({name:R(e.name),count:parseInt(e.count,10)})));return(0,p.jsxs)(n.A,{children:[(0,p.jsx)(o.Suspense,{fallback:(0,p.jsx)("div",{children:"Loading..."})}),(0,p.jsxs)(y,{style:{padding:"20px"},children:[(0,p.jsxs)(s.A,{gutter:16,children:[(0,p.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,p.jsx)(d.A,{children:(0,p.jsx)(r.A,{title:"Hotel Customers",value:(null===F||void 0===F?void 0:F.customer_count)||0,prefix:(0,p.jsx)(u.A,{}),valueStyle:{color:"#3f8600"}})})}),(0,p.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,p.jsx)(d.A,{children:(0,p.jsx)(r.A,{title:"Total Rooms",value:(null===F||void 0===F?void 0:F["total rooms"])||0,prefix:(0,p.jsx)(v.A,{}),valueStyle:{color:"#1890ff"}})})}),(0,p.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,p.jsx)(d.A,{children:(0,p.jsx)(r.A,{title:"Available Rooms",value:(null===F||void 0===F?void 0:F.available_rooms)||0,prefix:(0,p.jsx)(h.A,{}),valueStyle:{color:"#cf1322"}})})}),(0,p.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,p.jsx)(d.A,{children:(0,p.jsx)(r.A,{title:"Hotel Revenue",value:(null===F||void 0===F?void 0:F.revenue)||0,prefix:"\u20b9",valueStyle:{color:"#faad14"}})})})]}),(0,p.jsxs)(s.A,{gutter:16,style:{marginTop:16},children:[(0,p.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,p.jsx)(d.A,{children:(0,p.jsx)(r.A,{title:"Todays Sales",value:(null===_||void 0===_?void 0:_.total)||0,prefix:"\u20b9",valueStyle:{color:"#faad14"}})})}),(0,p.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,p.jsx)(d.A,{children:(0,p.jsx)(r.A,{title:"Total Orders",value:(null===M||void 0===M?void 0:M.total_orders)||0,prefix:(0,p.jsx)(u.A,{}),valueStyle:{color:"#722ed1"}})})}),(0,p.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,p.jsx)(d.A,{children:(0,p.jsx)(r.A,{title:"Available Tables",value:(null===M||void 0===M?void 0:M.available_tables)||0,prefix:(0,p.jsx)(v.A,{}),valueStyle:{color:"#1890ff"}})})}),(0,p.jsx)(i.A,{xs:24,sm:12,lg:6,children:(0,p.jsx)(d.A,{children:(0,p.jsx)(r.A,{title:"Restaurant Revenue",value:(null===M||void 0===M?void 0:M.revenue)||0,prefix:"\u20b9",valueStyle:{color:"#faad14"}})})})]}),(0,p.jsxs)(s.A,{gutter:16,style:{marginTop:16},children:[(0,p.jsx)(i.A,{xs:24,lg:12,children:(0,p.jsx)(d.A,{title:"Hotel Monthly Bookings and Income",children:(0,p.jsx)(c.A,{...T})})}),(0,p.jsx)(i.A,{xs:24,lg:12,children:(0,p.jsx)(d.A,{title:"Restaurant Monthly Orders and Income",children:(0,p.jsx)(c.A,{...I})})})]})]})]})}},53815:(e,t,l)=>{l.d(t,{FM:()=>i,FN:()=>d,W8:()=>s,hV:()=>n,zF:()=>a});var o=l(32170);const a=async e=>{let{body:t}=e;return await o.p.post("/orders",t)},n=async e=>{let{start:t,limit:l,status:a,search:n,dates:s,currentStore:i}=e,d=n?"&search=".concat(n):"",r=a?"&status=".concat(a):"",c=i?"&store_id=".concat(i):"",u="";2===s.length&&(u="&start_date=".concat(s[0],"&end_date=").concat(s[1]));return await o.p.get("/orders?start=".concat(t,"&limit=").concat(l).concat(d).concat(r).concat(u).concat(c))},s=async e=>{let{id:t}=e;return await o.p.get("/orders/".concat(t))},i=async e=>{let{id:t,body:l}=e;return await o.p.patch("/orders/".concat(t),l)},d=async e=>{let{id:t}=e;return await o.p.delete("/orders/".concat(t))}}}]);
//# sourceMappingURL=889.62ef38f6.chunk.js.map