"use strict";(self.webpackChunkhexadash_tailwind=self.webpackChunkhexadash_tailwind||[]).push([[2870],{42113:(e,t,s)=>{s.d(t,{A:()=>l});s(65043);const l=s.p+"static/media/home.f87e389a5c1850fe48b55156d6a0d7b7.svg"},34572:(e,t,s)=>{s.d(t,{C:()=>c});var l=s(45767),a=(s(65043),s(35475)),r=s(26655),i=s(52503),d=s(25452),n=s(70579);function c(e){const{title:t,children:s,more:c,moreText:o,size:m,headless:h,caption:x,isbutton:u,bodyStyle:v,headStyle:p,border:j,bodypadding:y,className:g,moreBtn:A}=e;return(0,n.jsx)(n.Fragment,{children:h?(0,n.jsxs)(r.A,{bodypadding:y&&y,bodyStyle:v&&v,size:m,style:{width:"100%"},bordered:j.toString(),className:g,children:[t&&(0,n.jsx)(d.A,{as:"h4",children:t}),x&&(0,n.jsx)("p",{children:x}),s]}):(0,n.jsx)(r.A,{size:m,title:t,bodyStyle:v&&v,headStyle:p&&p,bordered:j.toString(),className:g,bodypadding:y&&y,extra:(0,n.jsxs)("div",{className:"flex items-center gap-[15px]",children:[u&&u,c&&(0,n.jsx)(i.m,{content:c,placement:"bottom",children:(0,n.jsx)(a.N_,{className:"flex items-center group",onClick:e=>e.preventDefault(),to:"#",children:o?"More":(0,n.jsx)(l.A,{className:"w-[24px] h-[24px] text-light dark:text-white60 dark:group-hover:text-white87"})})}),A&&(0,n.jsx)("div",{children:A})]}),style:{width:"100%"},children:s})})}c.defaultProps={border:!1}},52503:(e,t,s)=>{s.d(t,{m:()=>h});s(65043);var l,a,r=s(35475),i=s(57528),d=s(49812),n=s(94574);n.Ay.div(l||(l=(0,i.A)(["\n    \n"])));const c=(0,n.Ay)(d.A)(a||(a=(0,i.A)(["\n\n"])));var o=s(40925),m=s(70579);function h(e){const{content:t,placement:s,title:l,action:a,children:r,style:i,className:d}=e;return(0,m.jsx)(c,{overlayClassName:d,style:i,placement:s,title:l,overlay:(0,m.jsx)(o.rQ,{children:t}),trigger:a,children:r})}const x=(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"block bg-white dark:bg-[#1b1e2b] shadow-regular dark:shadow-[0_5px_30px_rgba(1,4,19,.40)] py-1",children:[(0,m.jsx)(r.N_,{className:"flex items-center text-theme-gray dark:text-white60 hover:bg-primary-transparent hover:text-primary dark:hover:bg-white10 px-3 py-1.5 text-sm active",to:"#",children:(0,m.jsx)("span",{children:"Export to CSV"})}),(0,m.jsx)(r.N_,{className:"flex items-center text-theme-gray dark:text-white60 hover:bg-primary-transparent hover:text-primary dark:hover:bg-white10 px-3 py-1.5 text-sm active",to:"#",children:(0,m.jsx)("span",{children:"Export to XML"})}),(0,m.jsx)(r.N_,{className:"flex items-center text-theme-gray dark:text-white60 hover:bg-primary-transparent hover:text-primary dark:hover:bg-white10 px-3 py-1.5 text-sm active",to:"#",children:(0,m.jsx)("span",{children:"Export to Drive"})})]})});h.defaultProps={action:["hover"],placement:"bottomRight",content:x,style:{DropdownStyle:c},className:"hexadash-dropdown"}},91734:(e,t,s)=>{s.d(t,{z:()=>u});var l,a,r=s(97775),i=s(35475),d=s(7774),n=s(57528),c=s(67947),o=s(94574);const m=(0,o.Ay)(c.A)(l||(l=(0,n.A)(["\n  .ant-breadcrumb {\n    ol{\n      @media (max-width: 575px) {\n        justify-content: center;\n      }\n    }\n    li{\n        display:flex;\n        align-items:center;\n    }\n  }\n"]))),h=o.Ay.div(a||(a=(0,n.A)(["\n  \n"])));var x=s(70579);function u(e){const{title:t,subTitle:l,routes:a,buttons:n,ghost:c,bgColor:o,className:u}=e,v=a?(0,x.jsx)(r.A,{className:"flex order-2 relative top-1.5",separator:(0,x.jsx)("span",{className:"inline-flex bg-light-extra relative -top-0.5 w-1 h-1 rounded-full"}),children:a.map(((e,t)=>t+1===a.length?(0,x.jsx)(r.A.Item,{className:"text-breadcrumbs dark:text-white30 text-15",children:e.breadcrumbName},t):(0,x.jsxs)(r.A.Item,{className:"inline-flex items-start",children:[(0,x.jsx)(d.k,{className:"relative top-0.5 ltr:mr-2 rtl:ml-2 [&>div>svg]:text-[#8c90a4] dark:[&>div>svg]:text-white60 ",src:s(42113).A})," ",(0,x.jsx)(i.N_,{to:e.path,className:"text-light hover:text-primary dark:text-[#a4a5aa] dark:hover:text-white87 text-sm",children:e.breadcrumbName})]},t)))}):"";return(0,x.jsx)(h,{bgColor:o,children:(0,x.jsx)(m,{className:"".concat(u),title:t,subTitle:l,breadcrumb:v,extra:n,ghost:c})})}},62870:(e,t,s)=>{s.r(t),s.d(t,{default:()=>L});var l=s(65043),a=s(33307),r=s(89421),i=s(28440),d=s(47419),n=s(11645),c=s(33946),o=s(37122),m=s(64435),h=s(21281),x=s(48646),u=s(78240),v=s(94406),p=s(50289),j=s(48193),y=s(5397),g=s(3428),A=s(41264),b=s(73218),f=s(94733),N=s(41402),w=s(76191),k=s(61966),C=s(23906),S=s.n(C),I=s(80726),_=s.n(I),D=s(97975),F=s(47807),z=s(70579);const{Option:E}=v.A,q=e=>{let{setisAddCms:t,getAllData:s,setIsEditCms:i,isEditCms:o,currentStore:m}=e;const[h,x]=(0,l.useState)([]),[u,C]=(0,l.useState)(""),[I,q]=(0,l.useState)(!1),[O,M]=(0,l.useState)(),[P,T]=(0,l.useState)(!1),[V,B]=(0,l.useState)(!1),[L,Q]=(0,l.useState)(null);console.log("content1Output",L);const[W,Y]=(0,l.useState)(null),[H]=p.A.useForm();return(0,l.useEffect)((()=>{null!==o&&void 0!==o&&o.cmsId&&(T(!0),(0,F.W8)({id:null===o||void 0===o?void 0:o.cmsId}).then((e=>{var t,s,l;H.setFieldsValue(null===e||void 0===e?void 0:e.data),Y(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.description);const a=null===e||void 0===e||null===(s=e.data)||void 0===s||null===(l=s.media)||void 0===l?void 0:l.filesData;x(a),T(!1)})).catch((e=>{console.log("err",e),T(!1)})))}),[null===o||void 0===o?void 0:o.cmsId]),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(y.A,{spinning:P,children:(0,z.jsx)("div",{children:(0,z.jsxs)(p.A,{name:"cms",form:H,layout:"vertical",onFinish:e=>{const l={...e,name:null===e||void 0===e?void 0:e.name,inventory:null===e||void 0===e?void 0:e.inventory,media:{filesData:h},description:W};var a;null!==o&&void 0!==o&&o.cmsId?(0,F.FM)({id:null===o||void 0===o?void 0:o.cmsId,body:l}).then((e=>{i({isOpen:!1,cmsId:""}),s(),j.Ay.success("Data updated successfully")})).catch((e=>console.log("err",e))):(l.store_id=m,null===(a=(0,F.zF)({body:l}))||void 0===a||a.then((e=>{t(!1),s(),j.Ay.success("Data added successfully")})).catch((e=>{console.log("err :>> ",e)})))},autoComplete:"off",children:[(0,z.jsxs)(d.A,{gutter:[16,0],children:[(0,z.jsx)(n.A,{xs:24,md:12,children:(0,z.jsx)(p.A.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Name is required!"}],children:(0,z.jsx)(a.A,{placeholder:"Enter item name"})})}),(0,z.jsx)(n.A,{xs:24,md:12,children:(0,z.jsx)(p.A.Item,{label:"Item Code",name:"item_code",rules:[{required:!0,message:"Item code is required!"}],children:(0,z.jsx)(a.A,{placeholder:"Enter item code"})})})]}),(0,z.jsxs)(d.A,{gutter:[16,0],children:[(0,z.jsx)(n.A,{xs:24,md:12,children:(0,z.jsx)(p.A.Item,{label:"Category",name:"category",rules:[{required:!0,message:"Category is required!"}],children:(0,z.jsxs)(v.A,{placeholder:"Select category",children:[(0,z.jsx)(E,{value:"food",children:"Food"}),(0,z.jsx)(E,{value:"drink",children:"Drink"}),(0,z.jsx)(E,{value:"snack",children:"Snack"})]})})}),(0,z.jsx)(n.A,{xs:24,md:12,children:(0,z.jsx)(p.A.Item,{label:"Meal Type",name:"meal_type",rules:[{required:!0,message:"Meal type is required!"}],children:(0,z.jsxs)(v.A,{placeholder:"Select meal type",children:[(0,z.jsx)(E,{value:"starter",children:"Starter"}),(0,z.jsx)(E,{value:"lunch",children:"Lunch"}),(0,z.jsx)(E,{value:"main_course",children:"Main Course"}),(0,z.jsx)(E,{value:"dessert",children:"Dessert"}),(0,z.jsx)(E,{value:"side",children:"Side"}),(0,z.jsx)(E,{value:"beverage",children:"Beverage"})]})})})]}),(0,z.jsxs)(d.A,{gutter:[16,0],children:[(0,z.jsx)(n.A,{xs:24,md:12,children:(0,z.jsx)(p.A.Item,{label:"Price",name:"price",rules:[{required:!0,message:"Price is required!"}],children:(0,z.jsx)(g.A,{min:0,step:.01,placeholder:"Enter price",style:{width:"100%"}})})}),(0,z.jsx)(n.A,{xs:24,md:12,children:(0,z.jsx)(p.A.Item,{label:"Availability Status",name:"availability_status",valuePropName:"checked",children:(0,z.jsx)(A.A,{defaultChecked:!0})})})]}),(0,z.jsxs)("div",{className:"mt-4",children:[(0,z.jsx)("label",{children:"Description"}),(0,z.jsx)(S(),{data:W,editor:_(),onChange:(e,t)=>{Y(t.getData())}})]}),(0,z.jsx)(d.A,{children:(0,z.jsx)(n.A,{xs:24,md:12,children:(0,z.jsxs)(p.A.Item,{label:"Image",name:"image",children:[(0,z.jsx)(b.A,{onChange:e=>{B(!0);const t=new FormData;t.append("file",e.file.originFileObj),(0,D.V)(t).then((e=>{x((t=>{var s;return[...t,{link:null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.link}]})),B(!1)})).catch((e=>{j.Ay.error("Error while uploading"),B(!1)}))},fileList:[],children:(0,z.jsx)(r.A,{className:"flex items-center",icon:(0,z.jsx)(f.A,{}),children:"Click to Upload"})}),(0,z.jsx)("div",{className:"w-full",style:{maxHeight:"230px",overflowY:"auto"},children:(null===h||void 0===h?void 0:h.length)>0&&(null===h||void 0===h?void 0:h.map((e=>(0,z.jsxs)("div",{className:"flex border rounded-md justify-between items-center p-1 px-3 my-1",children:[(0,z.jsxs)("div",{className:"flex",children:[(0,z.jsx)("span",{className:"mr-2",children:(0,z.jsx)(N.A,{})}),"Product Image"]}),(0,z.jsxs)("div",{className:"flex gap-3 text-base",children:[(0,z.jsx)("div",{className:"cursor-pointer",children:(0,z.jsx)("div",{onClick:()=>{(async e=>{var t;const s=e;C(null===s||void 0===s?void 0:s.link),q(!0),M(null!==s&&void 0!==s&&s.file?null===s||void 0===s||null===(t=s.file)||void 0===t?void 0:t.name:null===s||void 0===s?void 0:s.name)})(e)},children:(0,z.jsx)(w.A,{})})}),(0,z.jsx)("div",{className:"cursor-pointer",children:(0,z.jsx)("div",{onClick:()=>{const t=null===h||void 0===h?void 0:h.filter((t=>{var s;return null!==t&&void 0!==t&&t.file?(null===t||void 0===t||null===(s=t.file)||void 0===s?void 0:s.uid)!==(null===e||void 0===e?void 0:e.id):(null===t||void 0===t?void 0:t.id)!==(null===e||void 0===e?void 0:e.id)}));x(t)},children:(0,z.jsx)(k.A,{style:{color:"red"}})})})]})]},null===e||void 0===e?void 0:e.id))))})]})})}),(0,z.jsxs)("div",{className:"flex justify-end gap-2 mt-5",children:[(0,z.jsx)(r.A,{onClick:()=>{t(!1),i({isOpen:!1,cmsId:""})},children:"Cancel"}),(0,z.jsx)(r.A,{type:"primary",htmlType:"submit",loading:V,children:"Submit"})]})]})})}),(0,z.jsx)(c.A,{width:410,title:O,open:I,footer:null,onCancel:()=>{q(!1),C("")},destroyOnClose:!0,children:(0,z.jsx)("img",{src:u||"",alt:u,style:{width:"400px"}})})]})};var O=s(40925),M=s(91734),P=s(34572),T=s(70495);const{Search:V}=a.A,B={starter:"Starter",lunch:"Lunch",main_course:"Main Course",dessert:"Dessert",side:"Side",beverage:"Beverage"},L=()=>{const[e,t]=(0,l.useState)(!1),[s,a]=(0,l.useState)(0),[v,p]=(0,l.useState)(""),[j,y]=(0,l.useState)({isOpen:!1,cmsId:""}),[g,A]=(0,l.useState)([]),[b,f]=(0,l.useState)(0),[N,w]=(0,o.fp)(T.qt),k=[{title:"#Id",dataIndex:"id",key:"id",width:140},{title:"Name",dataIndex:"name",key:"name",width:140},{title:"Item Code",dataIndex:"item_code",key:"item_code",width:140},{title:"Price",dataIndex:"price",key:"price",width:150},{title:"Category",dataIndex:"category",key:"category",width:150},{title:"Meal Type",dataIndex:"meal_type",width:150,render:(e,t)=>B[t.meal_type]},{title:"Action",key:"action",render:(e,t)=>(0,z.jsxs)(m.A,{size:"middle",children:[(0,z.jsx)(r.A,{size:"small",onClick:()=>y({isOpen:!0,cmsId:null===t||void 0===t?void 0:t.id}),children:(0,z.jsx)(x.A,{})}),(0,z.jsx)(i.A,{title:"Are you sure to delete this Item?",onConfirm:()=>{(0,F.FN)({id:null===t||void 0===t?void 0:t._id}).then((e=>{console.log("res",e),message.success("Deleted Successfully"),C()})).catch((e=>console.log("err",e)))},okText:"Yes",cancelText:"No",children:(0,z.jsx)(r.A,{danger:!0,size:"small",children:(0,z.jsx)(u.A,{})})})]}),width:150}],C=()=>{(0,F.hV)({start:s,limit:10,search:v}).then((e=>{var t,s;e&&(A(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.rows),f(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.count))})).catch((e=>console.log("err",e)))};(0,l.useEffect)((()=>{C()}),[v,s]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(M.z,{title:"Items",routes:[{path:"/",breadcrumbName:"Dashboard"},{path:"/products",breadcrumbName:"Products"}],className:"flex items-center justify-between px-8 xl:px-[15px] pt-2 pb-6 sm:pb-[30px] bg-transparent sm:flex-col"}),(0,z.jsx)(O.rQ,{className:"p-3",children:(0,z.jsx)(d.A,{gutter:16,children:(0,z.jsx)(n.A,{sm:24,xs:24,lg:24,className:"",children:(0,z.jsx)(P.C,{title:(0,z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,z.jsx)("div",{}),(0,z.jsx)("div",{children:(0,z.jsx)(V,{placeholder:"Name or code",allowClear:!0,enterButton:"Search",size:"middle",onSearch:e=>{p(e)}})})]}),moreBtn:(0,z.jsx)(r.A,{type:"primary",onClick:()=>t(!0),children:"Add"}),children:(0,z.jsx)(h.A,{size:"small",scroll:{x:"100%",y:"auto"},columns:k,dataSource:g,pagination:{pageSize:10,total:b,showSizeChanger:!1},onChange:e=>{const{current:t}=e;a(10*(t-1))}})})})})}),(0,z.jsx)(c.A,{title:"".concat(e?"Add":"Edit"),destroyOnClose:!0,open:e||j.isOpen,width:1024,footer:!1,onCancel:()=>{t(!1),y({isOpen:!1,cmsId:""})},children:(0,z.jsx)(q,{setisAddCms:t,getAllData:C,isEditCms:j,setIsEditCms:y,currentStore:N})})]})}},47807:(e,t,s)=>{s.d(t,{FM:()=>d,FN:()=>n,W8:()=>i,hV:()=>r,zF:()=>a});var l=s(32170);const a=async e=>{let{body:t}=e;return await l.p.post("/restroItems",t)},r=async e=>{let{start:t=0,limit:s=10,search:a}=e,r=a?"&search=".concat(a):"";return await l.p.get("/restroItems?start=".concat(t,"&limit=").concat(s).concat(r))},i=async e=>{let{id:t}=e;return await l.p.get("/restroItems/".concat(t))},d=async e=>{let{id:t,body:s}=e;return await l.p.patch("/restroItems/".concat(t),s)},n=async e=>{let{id:t}=e;return await l.p.delete("/restroItems/".concat(t))}},97975:(e,t,s)=>{s.d(t,{V:()=>a});var l=s(32170);const a=async e=>await l.p.post("/upload",e)}}]);
//# sourceMappingURL=2870.d8e62a1a.chunk.js.map