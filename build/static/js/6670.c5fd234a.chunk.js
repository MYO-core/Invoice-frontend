"use strict";(self.webpackChunkhexadash_tailwind=self.webpackChunkhexadash_tailwind||[]).push([[6670],{42113:(e,t,s)=>{s.d(t,{A:()=>n});s(65043);const n=s.p+"static/media/home.f87e389a5c1850fe48b55156d6a0d7b7.svg"},91734:(e,t,s)=>{s.d(t,{z:()=>p});var n,l,a=s(97775),r=s(35475),i=s(31105),o=s(57528),c=s(67947),d=s(94574);const u=(0,d.Ay)(c.A)(n||(n=(0,o.A)(["\n  .ant-breadcrumb {\n    ol{\n      @media (max-width: 575px) {\n        justify-content: center;\n      }\n    }\n    li{\n        display:flex;\n        align-items:center;\n    }\n  }\n"]))),m=d.Ay.div(l||(l=(0,o.A)(["\n  \n"])));var h=s(70579);function p(e){const{title:t,subTitle:n,routes:l,buttons:o,ghost:c,bgColor:d,className:p}=e,x=l?(0,h.jsx)(a.A,{className:"flex order-2 relative top-1.5",separator:(0,h.jsx)("span",{className:"inline-flex bg-light-extra relative -top-0.5 w-1 h-1 rounded-full"}),children:l.map(((e,t)=>t+1===l.length?(0,h.jsx)(a.A.Item,{className:"text-breadcrumbs dark:text-white30 text-15",children:e.breadcrumbName},t):(0,h.jsxs)(a.A.Item,{className:"inline-flex items-start",children:[(0,h.jsx)(i.k,{className:"relative top-0.5 ltr:mr-2 rtl:ml-2 [&>div>svg]:text-[#8c90a4] dark:[&>div>svg]:text-white60 ",src:s(42113).A})," ",(0,h.jsx)(r.N_,{to:e.path,className:"text-light hover:text-primary dark:text-[#a4a5aa] dark:hover:text-white87 text-sm",children:e.breadcrumbName})]},t)))}):"";return(0,h.jsx)(m,{bgColor:d,children:(0,h.jsx)(u,{className:"".concat(p),title:t,subTitle:n,breadcrumb:x,extra:o,ghost:c})})}},36670:(e,t,s)=>{s.r(t),s.d(t,{default:()=>E});var n=s(65043),l=s(33307),a=s(48193),r=s(64435),i=s(89421),o=s(28440),c=s(47419),d=s(11645),u=s(94406),m=s(10444),h=s(33946),p=s(50289),x=s(5397),v=s(30912),A=s(86178),f=s.n(A),j=s(32170);var b=s(46157),g=s(70579);const{Option:y}=u.A,C=e=>{let{setIsAddUsers:t,isEditUsers:s,setIsEditUsers:r,getAllUsers:o}=e;const[m,h]=(0,n.useState)(!1),[A,C]=(0,n.useState)([]),[w,N]=(0,n.useState)({}),[I]=p.A.useForm();(0,n.useEffect)((()=>{k()}),[]),(0,n.useEffect)((()=>{null!==s&&void 0!==s&&s.userId&&(h(!0),(async e=>{let{id:t}=e;return await j.p.get("/users/".concat(t))})({id:null===s||void 0===s?void 0:s.userId}).then((e=>{const t=e.data;t.dob=f()(t.dob),C([{_id:t.roomId,roomNumber:t.roomNumber}]),I.setFieldsValue(t),h(!1)})).catch((e=>{console.log("err",e),h(!1)})))}),[null===s||void 0===s?void 0:s.userId]);const k=async e=>{h(!0),(0,b.L_)({}).then((e=>{var t;const s=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;C(s),h(!1)})).catch((e=>{a.Ay.error("Error fetching room suggestions"),h(!1)}))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(x.A,{spinning:m}),(0,g.jsx)("div",{children:(0,g.jsxs)(p.A,{form:I,name:"User",labelCol:{span:8},wrapperCol:{span:16},onFinish:e=>{const n=e;var l;(h(!0),null!==s&&void 0!==s&&s.userId)?(async e=>{let{id:t,body:s}=e;return await j.p.patch("/users/".concat(t),s)})({id:null===s||void 0===s?void 0:s.userId,body:n}).then((e=>{r({isOpen:!1,userId:""}),o(),a.Ay.success("User updated successfully")})).catch((e=>{a.Ay.error("Something Went Wrong")})):null===(l=(async e=>{let{body:t}=e;return await j.p.post("/users",t)})({body:n}))||void 0===l||l.then((e=>{a.Ay.success("User added successfully"),t(!1),o({start:0,limit:10}),h(!1)})).catch((e=>{a.Ay.error("Something Went Wrong"),console.log("err :>> ",e),h(!1)}))},autoComplete:"off",children:[(0,g.jsxs)(c.A,{gutter:16,children:[" ",(0,g.jsxs)(d.A,{span:12,children:[" ",(0,g.jsx)(p.A.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Required! "}],children:(0,g.jsx)(l.A,{})})]}),(0,g.jsx)(d.A,{span:12,children:(0,g.jsx)(p.A.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Required! "}],children:(0,g.jsx)(l.A,{})})})]}),(0,g.jsxs)(c.A,{gutter:16,children:[(0,g.jsx)(d.A,{span:12,children:(0,g.jsx)(p.A.Item,{label:"Father's Name",name:"fatherName",children:(0,g.jsx)(l.A,{})})}),(0,g.jsx)(d.A,{span:12,children:(0,g.jsx)(p.A.Item,{label:"Mother's Name",name:"motherName",children:(0,g.jsx)(l.A,{})})})]}),(0,g.jsxs)(c.A,{gutter:16,children:[(0,g.jsx)(d.A,{span:12,children:(0,g.jsx)(p.A.Item,{label:"Date Of Birth",name:"dob",children:(0,g.jsx)(v.A,{})})}),(0,g.jsx)(d.A,{span:12,children:(0,g.jsx)(p.A.Item,{label:"Role",name:"role_id",children:(0,g.jsx)(u.A,{showSearch:!0,placeholder:"Select role",loading:m,filterOption:!1,optionLabelProp:"children",children:A.map((e=>(0,g.jsx)(y,{value:e.id,children:e.name},e.id)))})})})]}),(0,g.jsxs)(c.A,{gutter:16,children:[(0,g.jsx)(d.A,{span:12,children:(0,g.jsx)(p.A.Item,{name:"gender",label:"Gender",children:(0,g.jsxs)(u.A,{placeholder:"Select option...",allowClear:!0,children:[(0,g.jsx)(y,{value:"male",children:"Male"}),(0,g.jsx)(y,{value:"female",children:"Female"}),(0,g.jsx)(y,{value:"other",children:"Others"})]})})}),(0,g.jsx)(d.A,{span:12,children:(0,g.jsx)(p.A.Item,{name:"address",label:"Address",children:(0,g.jsx)(l.A,{})})})]}),!(null!==s&&void 0!==s&&s.userId)&&(0,g.jsx)(c.A,{gutter:16,children:(0,g.jsx)(d.A,{span:12,children:(0,g.jsx)(p.A.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Required! "}],children:(0,g.jsx)(l.A,{})})})}),(0,g.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,g.jsx)(i.A,{onClick:()=>{t(!1),r({isOpen:!1,userId:""})},children:"Cancel"}),(0,g.jsx)(i.A,{type:"primary",htmlType:"submit",children:"Submit"})]})]})})]})};var w=s(40925),N=s(91734),I=s(57043);const{Search:k}=l.A,E=()=>{const[e,t]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[p,x]=(0,n.useState)(!1),[v,A]=(0,n.useState)({}),[f,y]=(0,n.useState)(""),[E,O]=(0,n.useState)("");(0,n.useEffect)((()=>{(0,b.L_)({}).then((e=>{var t;const s=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data;let n=[{value:"",label:"All"}];s.map((e=>{n.push({value:e.id,label:e.name})})),l(n)})).catch((e=>{a.Ay.error("Error fetching room suggestions")}))}),[]);const S=()=>{(async e=>{let{start:t,limit:s,roleId:n,search:l}=e,a=n?"&roleId=".concat(n):"",r=l?"&search=".concat(l):"";return await j.p.get("/users?start=".concat(t||0,"&limit=").concat(s||10).concat(a).concat(r))})({search:f,roleId:E}).then((e=>{var s;e&&t(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.rows)})).catch((e=>console.log("err",e)))};(0,n.useEffect)((()=>{S()}),[f,E]);const U=[{title:"Name",dataIndex:"name",key:"name",width:150},{title:"Email",dataIndex:"email",key:"email",width:200},{title:"Father's Name",dataIndex:"fatherName",key:"fatherName",width:150},{title:"Mother's Name",dataIndex:"motherName",key:"otherName",width:150},{title:"Gender",dataIndex:"gender",key:"gender",width:150},{title:"Role",dataIndex:"role",key:"role",width:150},{title:"Action",key:"action",render:(e,t)=>(0,g.jsxs)(r.A,{size:"middle",children:[(0,g.jsx)(i.A,{size:"middle",onClick:()=>A({isOpen:!0,userId:null===t||void 0===t?void 0:t.id}),children:"Edit"}),(0,g.jsx)(o.A,{title:"Are you sure to delete this User?",onConfirm:()=>{(async e=>await j.p.delete("/users/".concat(e)))({id:null===t||void 0===t?void 0:t._id}).then((e=>{a.Ay.success("User Deleted Successfully"),S()})).catch((e=>console.log("err",e)))},okText:"Yes",cancelText:"No",children:(0,g.jsx)(i.A,{danger:!0,size:"middle",children:"Delete"})})]}),width:150}];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(N.z,{title:"Users",routes:[{path:"/",breadcrumbName:"Dashboard"},{path:"/users",breadcrumbName:"Users"}],className:"flex items-center justify-between px-8 xl:px-[15px] pt-2 pb-6 sm:pb-[30px] bg-transparent sm:flex-col"}),(0,g.jsx)(w.rQ,{className:"p-3  ",children:(0,g.jsx)(c.A,{gutter:16,children:(0,g.jsx)(d.A,{children:(0,g.jsx)(I.C,{title:(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsx)("div",{children:(0,g.jsx)(u.A,{style:{width:120},size:"middle",placeholder:"Role",onChange:e=>{O(e)},options:s})}),(0,g.jsx)("div",{children:(0,g.jsx)(k,{placeholder:"search",allowClear:!0,enterButton:"Search",size:"middle",onSearch:e=>{y(e)}})})]}),moreBtn:(0,g.jsx)(i.A,{type:"primary",onClick:()=>x(!0),children:"Add"}),children:(0,g.jsx)(m.A,{size:"small",scroll:{x:"100%",y:"auto"},columns:U,dataSource:e})})})})}),(0,g.jsx)(h.A,{title:p?"Add Users":"Edit Users",destroyOnClose:!0,open:p||v.isOpen,width:1024,footer:!1,onCancel:()=>{x(!1),A({isOpen:!1,userId:null})},children:(0,g.jsx)(C,{setIsAddUsers:x,getAllUsers:S,isEditUsers:v,setIsEditUsers:A})})]})}},46157:(e,t,s)=>{s.d(t,{EO:()=>o,L_:()=>a,S0:()=>i,vZ:()=>l,xF:()=>r});var n=s(32170);const l=async e=>{let{body:t}=e;return await n.p.post("/roles",t)},a=async e=>{let{start:t,limit:s,RoleNumber:l,status:a}=e;return await n.p.get("/roles?start=".concat(t,"&limit=").concat(s))},r=async e=>{let{id:t}=e;return await n.p.get("/roles/".concat(t))},i=async e=>{let{id:t,body:s}=e;return await n.p.patch("/roles/".concat(t),s)},o=async e=>{let{id:t}=e;return await n.p.delete("/roles/".concat(t))}},28440:(e,t,s)=>{s.d(t,{A:()=>C});var n=s(58168),l=s(5544),a=s(51376),r=s(64600),i=s.n(r),o=s(28678),c=s(25001),d=s(65043),u=s(35296),m=s(36282),h=s(12701),p=s(89421),x=s(83085),v=s(38046),A=s(38097),f=s(8376),j=s(98986),b=function(e){var t=e.prefixCls,s=e.okButtonProps,l=e.cancelButtonProps,a=e.title,r=e.cancelText,i=e.okText,o=e.okType,c=e.icon,m=e.showCancel,h=void 0===m||m,b=e.close,g=e.onConfirm,y=e.onCancel,C=d.useContext(u.QO).getPrefixCls;return d.createElement(A.A,{componentName:"Popconfirm",defaultLocale:f.A.Popconfirm},(function(e){return d.createElement("div",{className:"".concat(t,"-inner-content")},d.createElement("div",{className:"".concat(t,"-message")},c&&d.createElement("span",{className:"".concat(t,"-message-icon")},c),d.createElement("div",{className:"".concat(t,"-message-title")},(0,j.b)(a))),d.createElement("div",{className:"".concat(t,"-buttons")},h&&d.createElement(p.A,(0,n.A)({onClick:y,size:"small"},l),null!==r&&void 0!==r?r:e.cancelText),d.createElement(v.A,{buttonProps:(0,n.A)((0,n.A)({size:"small"},(0,x.D)(o)),s),actionFn:g,close:b,prefixCls:C("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==i&&void 0!==i?i:e.okText)))}))},g=void 0,y=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(s[n[l]]=e[n[l]])}return s};const C=d.forwardRef((function(e,t){var s=e.prefixCls,r=e.placement,p=void 0===r?"top":r,x=e.trigger,v=void 0===x?"click":x,A=e.okType,f=void 0===A?"primary":A,j=e.icon,C=void 0===j?d.createElement(a.A,null):j,w=e.children,N=e.overlayClassName,I=e.onOpenChange,k=e.onVisibleChange,E=y(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),O=d.useContext(u.QO).getPrefixCls,S=(0,o.A)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),U=(0,l.A)(S,2),T=U[0],P=U[1],z=function(e,t){P(e,!0),null===k||void 0===k||k(e,t),null===I||void 0===I||I(e,t)},F=O("popover",s),_=O("popconfirm",s),R=i()(_,N);return d.createElement(m.A,(0,n.A)({},E,{trigger:v,prefixCls:F,placement:p,onOpenChange:function(t){var s=e.disabled;void 0!==s&&s||z(t)},open:T,ref:t,overlayClassName:R,_overlay:d.createElement(b,(0,n.A)({okType:f,icon:C},e,{prefixCls:F,close:function(e){z(!1,e)},onConfirm:function(t){var s;return null===(s=e.onConfirm)||void 0===s?void 0:s.call(g,t)},onCancel:function(t){var s;z(!1,t),null===(s=e.onCancel)||void 0===s||s.call(g,t)}}))}),(0,h.Ob)(w,{onKeyDown:function(e){var t,s;d.isValidElement(w)&&(null===(s=null===w||void 0===w?void 0:(t=w.props).onKeyDown)||void 0===s||s.call(t,e)),function(e){e.keyCode===c.A.ESC&&T&&z(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=6670.c5fd234a.chunk.js.map