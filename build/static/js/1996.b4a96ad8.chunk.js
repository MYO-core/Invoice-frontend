"use strict";(self.webpackChunkhexadash_tailwind=self.webpackChunkhexadash_tailwind||[]).push([[1996],{42113:(e,_,t)=>{t.d(_,{A:()=>s});t(65043);const s=t.p+"static/media/home.f87e389a5c1850fe48b55156d6a0d7b7.svg"},91734:(e,_,t)=>{t.d(_,{z:()=>m});var s,a,n=t(97775),l=t(35475),r=t(31105),i=t(57528),c=t(67947),d=t(94574);const E=(0,d.Ay)(c.A)(s||(s=(0,i.A)(["\n  .ant-breadcrumb {\n    ol{\n      @media (max-width: 575px) {\n        justify-content: center;\n      }\n    }\n    li{\n        display:flex;\n        align-items:center;\n    }\n  }\n"]))),o=d.Ay.div(a||(a=(0,i.A)(["\n  \n"])));var u=t(70579);function m(e){const{title:_,subTitle:s,routes:a,buttons:i,ghost:c,bgColor:d,className:m}=e,A=a?(0,u.jsx)(n.A,{className:"flex order-2 relative top-1.5",separator:(0,u.jsx)("span",{className:"inline-flex bg-light-extra relative -top-0.5 w-1 h-1 rounded-full"}),children:a.map(((e,_)=>_+1===a.length?(0,u.jsx)(n.A.Item,{className:"text-breadcrumbs dark:text-white30 text-15",children:e.breadcrumbName},_):(0,u.jsxs)(n.A.Item,{className:"inline-flex items-start",children:[(0,u.jsx)(r.k,{className:"relative top-0.5 ltr:mr-2 rtl:ml-2 [&>div>svg]:text-[#8c90a4] dark:[&>div>svg]:text-white60 ",src:t(42113).A})," ",(0,u.jsx)(l.N_,{to:e.path,className:"text-light hover:text-primary dark:text-[#a4a5aa] dark:hover:text-white87 text-sm",children:e.breadcrumbName})]},_)))}):"";return(0,u.jsx)(o,{bgColor:d,children:(0,u.jsx)(E,{className:"".concat(m),title:_,subTitle:s,breadcrumb:A,extra:i,ghost:c})})}},39135:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(65043),antd__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(33946),antd__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(89421),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(50289),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(33307),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(47419),antd__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(11645),_ant_design_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10253),_calculator_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22790),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(70579);const Calculator=_ref=>{let{calculatorVisible:calculatorVisible,setCalculatorVisible:setCalculatorVisible}=_ref;const[input,setInput]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[result,setResult]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),handleCancel=()=>{setCalculatorVisible(!1)},handleOk=()=>{setIsModalVisible(!1)},handleClick=e=>{setInput(input+e)},handleClear=()=>{setInput(""),setResult(null)},handleCalculate=()=>{try{const res=eval(input);setResult(res)}catch(error){setResult("Error")}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_3__.A,{width:720,height:500,title:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:"2rem"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{children:"Calculator"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",onClick:()=>console.log("Button clicked"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_5__.A,{}),"Invoice"]})]}),open:calculatorVisible,onOk:handleOk,onCancel:handleCancel,footer:null,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_6__.A,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.A.Item,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_7__.A.TextArea,{value:input,onChange:e=>setInput(e.target.value),rows:4})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.A.Item,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_7__.A,{value:null!==result?result:"",readOnly:!0,placeholder:"Result"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_8__.A,{gutter:[8,8],className:"mb-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("1"),children:"1"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("2"),children:"2"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("3"),children:"3"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("+"),children:"+"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_8__.A,{gutter:[8,8],className:"mb-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("4"),children:"4"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("5"),children:"5"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("6"),children:"6"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("-"),children:"-"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_8__.A,{gutter:[8,8],className:"mb-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("7"),children:"7"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("8"),children:"8"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("9"),children:"9"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("*"),children:"*"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_8__.A,{gutter:[8,8],className:"mb-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("0"),children:"0"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("."),children:"."})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:handleClear,children:"C"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:()=>handleClick("/"),children:"/"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_8__.A,{gutter:[8,8],className:"mb-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:12,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:handleCalculate,children:"="})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:handleCalculate,children:"Save to device"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__.A,{span:6,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.A,{type:"primary",block:!0,className:"responsive-button",onClick:handleCalculate,children:"reset"})})]})]})})})},__WEBPACK_DEFAULT_EXPORT__=Calculator},31996:(e,_,t)=>{t.r(_),t.d(_,{default:()=>B});var s=t(65043),a=t(89330),n=t(86178),l=t.n(n),r=t(48646),i=t(33307),c=t(48193),d=t(64435),E=t(89421),o=t(47419),u=t(11645),m=t(94406),A=t(10444),D=t(33946),P=t(50289),x=t(5397),h=t(3428),O=t(30912),M=t(32170);var p=t(70579);const j=e=>{let{setIsAddUsers:_,isEditUsers:t,setIsEditUsers:a,getAllUsers:n,store_id:r}=e;const[d,A]=(0,s.useState)(!1),[D]=P.A.useForm();return(0,s.useEffect)((()=>{null!==t&&void 0!==t&&t.userId&&(A(!0),(async e=>{let{id:_}=e;return await M.p.get("/bills/".concat(_))})({id:null===t||void 0===t?void 0:t.userId}).then((e=>{const _=e.data;_.date=l()(_.date),console.log("data",_),D.setFieldsValue(_),A(!1)})).catch((e=>{console.log("err",e),A(!1)})))}),[null===t||void 0===t?void 0:t.userId]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(x.A,{spinning:d,children:(0,p.jsx)("div",{children:(0,p.jsxs)(P.A,{form:D,name:"Invoice",labelCol:{span:8},wrapperCol:{span:16},onFinish:e=>{const s=e;var l;(r&&""!==r&&(s.store_id=r),A(!0),null!==t&&void 0!==t&&t.userId)?(async e=>{let{id:_,body:t}=e;return await M.p.patch("/bills/".concat(_),t)})({id:null===t||void 0===t?void 0:t.userId,body:s}).then((e=>{a({isOpen:!1,userId:""}),n(),c.Ay.success("Bill updated successfully"),A(!1)})).catch((e=>{console.log(e),A(!1)})):null===(l=(async e=>{let{body:_}=e;return await M.p.post("/bills",_)})({body:s}))||void 0===l||l.then((e=>{c.Ay.success("Bill added successfully"),_(!1),n({start:0,limit:10}),A(!1)})).catch((e=>{console.log("err :>> ",e),c.Ay.error(e.message),A(!1)}))},autoComplete:"off",style:{width:"100%"},children:[(0,p.jsxs)(o.A,{gutter:16,children:[(0,p.jsx)(u.A,{span:12,children:(0,p.jsx)(P.A.Item,{label:"Customer Name",name:"customer_name",rules:[{required:!0,message:"Customer name is required!"}],children:(0,p.jsx)(i.A,{})})}),(0,p.jsx)(u.A,{span:12,children:(0,p.jsx)(P.A.Item,{label:"Paid Amount",name:"paid_amount",rules:[{required:!0,message:"Paid amount is required!"}],children:(0,p.jsx)(i.A,{onKeyUp:()=>{let e=D.getFieldValue("paid_amount")||0,_=(D.getFieldValue("billed_amount")||0)-e;D.setFieldValue("remaining_amount",_)}})})})]}),(0,p.jsxs)(o.A,{gutter:16,children:[(0,p.jsx)(u.A,{span:12,children:(0,p.jsx)(P.A.Item,{label:"Customer Phone",name:"customer_phone",rules:[{required:!0,message:"Customer phone is required!"}],children:(0,p.jsx)(i.A,{})})}),(0,p.jsx)(u.A,{span:12,children:(0,p.jsx)(P.A.Item,{label:"Discount",name:"discount",rules:[{required:!0,message:"Discount is required!"}],children:(0,p.jsx)(h.A,{style:{width:"100%"}})})})]}),(0,p.jsxs)(o.A,{gutter:16,children:[(0,p.jsx)(u.A,{span:12,children:(0,p.jsx)(P.A.Item,{label:"Customer Email",name:"customer_email",rules:[{type:"email",message:"Please enter a valid email!"}],children:(0,p.jsx)(i.A,{})})}),(0,p.jsx)(u.A,{span:12,children:(0,p.jsx)(P.A.Item,{label:"Sub Total",name:"total_amount",rules:[{required:!0,message:"Total amount is required!"}],children:(0,p.jsx)(h.A,{style:{width:"100%"}})})})]}),(0,p.jsxs)(o.A,{gutter:16,children:[(0,p.jsx)(u.A,{span:12,children:(0,p.jsx)(P.A.Item,{label:"Date",name:"date",rules:[{required:!0,message:"Date is required!"}],children:(0,p.jsx)(O.A,{style:{width:"100%"}})})}),(0,p.jsx)(u.A,{span:12,children:(0,p.jsx)(P.A.Item,{label:"Pending Amount",name:"remaining_amount",rules:[{required:!0,message:"Pending amount is required!"}],children:(0,p.jsx)(h.A,{style:{width:"100%"}})})})]}),(0,p.jsxs)(o.A,{gutter:16,children:[(0,p.jsx)(u.A,{span:12,children:(0,p.jsx)(P.A.Item,{label:"Status",name:"status",children:(0,p.jsxs)(m.A,{placeholder:"Status",optionLabelProp:"children",children:[(0,p.jsx)(Option,{value:"PENDING",children:"Pending"},"PENDING"),(0,p.jsx)(Option,{value:"COMPLETED",children:"Completed"},"COMPLETED"),(0,p.jsx)(Option,{value:"PARTIALLY_PAID",children:"Partially Paid"},"PARTIALLY_PAID"),(0,p.jsx)(Option,{value:"DEFAULTER",children:"Defaulter"},"DEFAULTER")]})})}),(0,p.jsx)(u.A,{span:12,children:(0,p.jsx)(P.A.Item,{label:"Billed Amount",name:"billed_amount",rules:[{required:!0,message:"Billed amount is required!"}],children:(0,p.jsx)(h.A,{style:{width:"100%"}})})})]}),(0,p.jsxs)(o.A,{gutter:16,children:[(0,p.jsx)(u.A,{span:12,children:(0,p.jsx)(P.A.Item,{label:"Remarks",name:"remarks",rules:[{type:"text",message:""}],children:(0,p.jsx)(i.A,{style:{width:"100%"}})})}),(0,p.jsx)(u.A,{span:12,children:(0,p.jsx)(P.A.Item,{label:"Discount Percentage",name:"discount_percentage",children:(0,p.jsx)(h.A,{style:{width:"100%"},onKeyUp:()=>{let e=D.getFieldValue("discount_percentage")||0,_=D.getFieldValue("billed_amount")||0,t=_*(.01*e);D.setFieldValue("discount",t);let s=_-t;D.setFieldValue("remaining_amount",s)}})})})]}),(0,p.jsx)("h4",{children:"Item Details"}),(0,p.jsxs)(P.A.Item,{name:"metaData",children:[(0,p.jsx)(i.A.TextArea,{style:{display:"none"}}),(0,p.jsx)(P.A.List,{name:["metaData","products"],children:(e,_)=>{let{add:t,remove:s}=_;return(0,p.jsxs)(p.Fragment,{children:[e.map((e=>{let{key:_,name:t,fieldKey:a,...n}=e;return(0,p.jsxs)(o.A,{gutter:16,children:[(0,p.jsx)(u.A,{span:8,children:(0,p.jsx)(P.A.Item,{...n,label:"Name",name:[t,"product_name"],fieldKey:[a,"product_name"],rules:[{required:!0,message:"Product name is required!"}],children:(0,p.jsx)(i.A,{})})}),(0,p.jsx)(u.A,{span:8,children:(0,p.jsx)(P.A.Item,{...n,label:"Price",name:[t,"price"],fieldKey:[a,"price"],rules:[{required:!0,message:"Price is required!"}],children:(0,p.jsx)(h.A,{style:{width:"100%"}})})}),(0,p.jsx)(u.A,{span:8,children:(0,p.jsx)(P.A.Item,{...n,label:"Quantity",name:[t,"quantity"],fieldKey:[a,"quantity"],rules:[{required:!0,message:"Quantity is required!"}],children:(0,p.jsx)(h.A,{style:{width:"100%"}})})}),(0,p.jsx)(u.A,{span:24,style:{textAlign:"right"},children:(0,p.jsx)(E.A,{type:"link",style:{color:"red"},onClick:()=>s(t),children:"- Remove"})})]},_)})),(0,p.jsx)(P.A.Item,{children:(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"left",alignItems:"left"},children:[(0,p.jsx)(E.A,{type:"dashed",onClick:()=>t(),children:"+ Add"}),(0,p.jsx)(E.A,{type:"primary",className:"ml-2",onClick:()=>(()=>{try{let e=D.getFieldsValue(["metaData"]),_=D.getFieldValue("discount")||0,t=0;e.metaData.products.map((e=>{t+=+(null===e||void 0===e?void 0:e.price)*+(null===e||void 0===e?void 0:e.quantity)||0})),D.setFieldValue("total_amount",t),t-=_,D.setFieldValue("billed_amount",t)}catch(e){}})(),children:"Calculate Total"})]})})]})}})]}),(0,p.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,p.jsx)(E.A,{onClick:()=>{_(!1),a({isOpen:!1,userId:null})},children:"Cancel"}),(0,p.jsx)(E.A,{type:"primary",htmlType:"submit",children:"Submit"})]})]})})})})};var C=t(39135),I=t(40925),L=t(91734),T=t(57043),b=t(57832);const{Search:R}=i.A,B=()=>{const[e,_]=(0,s.useState)([]),[t,n]=(0,s.useState)([]),[i,P]=(0,s.useState)(!1),[x,h]=(0,s.useState)(!1),[O,B]=(0,s.useState)({}),[U,y]=(0,s.useState)(""),[K,W]=(0,s.useState)(""),v=()=>{(async e=>{let{start:_,limit:t,store_id:s,search:a}=e,n=a?"&search=".concat(a):"",l=s?"&store_id=".concat(s):"";return await M.p.get("/bills?start=".concat(_||0,"&limit=").concat(t||10).concat(l).concat(n))})({search:U,store_id:K}).then((e=>{var t;e&&_(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.rows)})).catch((e=>console.log("err",e)))};(0,s.useEffect)((()=>{(0,b.Ib)({}).then((e=>{var _;const t=null===e||void 0===e||null===(_=e.data)||void 0===_?void 0:_.rows;let s=[{value:"",label:"All"}];t.map((e=>{s.push({value:e.id,label:e.name})})),n(s)})).catch((e=>{c.Ay.error("Error fetching room suggestions")}))}),[]),(0,s.useEffect)((()=>{v()}),[U,K]);const k=[{title:"#Id",dataIndex:"id",key:"id",width:150},{title:"Customer Name",dataIndex:"customer_name",key:"customer_name",width:150},{title:"Customer Phone",dataIndex:"customer_phone",key:"customer_phone",width:150},{title:"Total Amount",dataIndex:"total_amount",key:"total_amount",width:150},{title:"Invoice Date",dataIndex:"date",key:"date",width:150,render:e=>l()(e).format("DD-MM-YYYY (HH:mm)")},{title:"Action",key:"action",render:(e,_)=>(0,p.jsxs)(d.A,{size:"middle",children:[(0,p.jsx)(E.A,{size:"small",onClick:()=>B({isOpen:!0,userId:null===_||void 0===_?void 0:_.id}),children:(0,p.jsx)(r.A,{})}),(0,p.jsx)(E.A,{type:"primary",size:"small",style:{marginLeft:8},onClick:()=>{(async e=>await M.p.download("/bills/pdf/".concat(e)))(null===_||void 0===_?void 0:_.id).then((e=>{c.Ay.success("Invoice Deleted Successfully"),v()})).catch((e=>console.log("err",e)))},children:(0,p.jsx)(a.A,{})})]}),width:150}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(L.z,{title:"Bills",routes:[{path:"/",breadcrumbName:"Dashboard"},{path:"/invoices",breadcrumbName:"Bill"}],className:"flex items-center justify-between px-8 xl:px-[15px] pt-2 pb-6 sm:pb-[30px] bg-transparent sm:flex-col"}),(0,p.jsx)(I.rQ,{className:"p-3  ",children:(0,p.jsx)(o.A,{gutter:16,children:(0,p.jsx)(u.A,{sm:24,xs:24,lg:24,className:"",children:(0,p.jsx)(T.C,{title:(0,p.jsxs)("div",{className:"flex items-center gap-4",children:[(0,p.jsx)("div",{children:(0,p.jsx)(m.A,{style:{width:120},size:"middle",placeholder:"Stores",onChange:e=>{W(e)},options:t})}),(0,p.jsx)("div",{children:(0,p.jsx)(R,{placeholder:"search name or phone",allowClear:!0,enterButton:"Search",size:"middle",onSearch:e=>{y(e)}})})]}),moreBtn:(0,p.jsxs)(d.A,{children:[(0,p.jsx)(E.A,{type:"primary",onClick:()=>h(!0),children:"Calculator"}),(0,p.jsx)(E.A,{type:"primary",onClick:()=>P(!0),children:"Add"})]}),children:(0,p.jsx)(A.A,{size:"small",scroll:{x:"100%",y:"auto"},columns:k,dataSource:e})})})})}),(0,p.jsx)(D.A,{title:i?"Add Bill":"Edit Bill",destroyOnClose:!0,open:i||O.isOpen,width:1024,footer:!1,onCancel:()=>{P(!1),B({isOpen:!1,userId:null})},children:(0,p.jsx)(j,{setIsAddUsers:P,getAllUsers:v,isEditUsers:O,setIsEditUsers:B,store_id:K})}),(0,p.jsx)(C.A,{calculatorVisible:x,setCalculatorVisible:h})]})}},89330:(e,_,t)=>{t.d(_,{A:()=>i});var s=t(89379),a=t(65043);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};var l=t(22172),r=function(e,_){return a.createElement(l.A,(0,s.A)((0,s.A)({},e),{},{ref:_,icon:n}))};r.displayName="DownloadOutlined";const i=a.forwardRef(r)},48646:(e,_,t)=>{t.d(_,{A:()=>i});var s=t(89379),a=t(65043);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9z"}}]},name:"edit",theme:"filled"};var l=t(22172),r=function(e,_){return a.createElement(l.A,(0,s.A)((0,s.A)({},e),{},{ref:_,icon:n}))};r.displayName="EditFilled";const i=a.forwardRef(r)},10253:(e,_,t)=>{t.d(_,{A:()=>i});var s=t(89379),a=t(65043);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M917 211.1l-199.2 24c-6.6.8-9.4 8.9-4.7 13.6l59.3 59.3-226 226-101.8-101.7c-6.3-6.3-16.4-6.2-22.6 0L100.3 754.1a8.03 8.03 0 000 11.3l45 45.2c3.1 3.1 8.2 3.1 11.3 0L433.3 534 535 635.7c6.3 6.2 16.4 6.2 22.6 0L829 364.5l59.3 59.3a8.01 8.01 0 0013.6-4.7l24-199.2c.7-5.1-3.7-9.5-8.9-8.8z"}}]},name:"rise",theme:"outlined"};var l=t(22172),r=function(e,_){return a.createElement(l.A,(0,s.A)((0,s.A)({},e),{},{ref:_,icon:n}))};r.displayName="RiseOutlined";const i=a.forwardRef(r)},22790:()=>{}}]);
//# sourceMappingURL=1996.b4a96ad8.chunk.js.map