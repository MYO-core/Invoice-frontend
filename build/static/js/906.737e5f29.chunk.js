"use strict";(self.webpackChunkhexadash_tailwind=self.webpackChunkhexadash_tailwind||[]).push([[906],{906:(e,t,s)=>{s.r(t),s.d(t,{default:()=>N});var l=s(5043),i=s(1802),n=s(6059),a=s(9800),r=s(1645),d=s(2217),c=s(4435),o=s(9524),u=s(4406),m=s(289),h=s(8193),x=s(5397),p=s(6558),A=s(3428),v=s(1264),y=(s(3906),s(726),s(7975),s(8532)),j=s(579);const{Option:b}=u.A,f=e=>{let{setisAddCms:t,getAllData:s,setIsEditCms:n,isEditCms:c}=e;const[o,f]=(0,l.useState)([]),[g,C]=(0,l.useState)(""),[w,N]=(0,l.useState)(!1),[I,k]=(0,l.useState)(),[O,S]=(0,l.useState)(!1),[E,F]=(0,l.useState)(!1),[D,T]=(0,l.useState)(null);console.log("content1Output",D);const[P,R]=(0,l.useState)(null),[z]=m.A.useForm();return(0,l.useEffect)((()=>{null!==c&&void 0!==c&&c.cmsId&&(S(!0),(0,y.W8)({id:null===c||void 0===c?void 0:c.cmsId}).then((e=>{var t,s,l;z.setFieldsValue(null===e||void 0===e?void 0:e.data),R(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.description);const i=null===e||void 0===e||null===(s=e.data)||void 0===s||null===(l=s.media)||void 0===l?void 0:l.filesData;f(i),S(!1)})).catch((e=>{console.log("err",e),S(!1)})))}),[null===c||void 0===c?void 0:c.cmsId]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x.A,{spinning:O,children:(0,j.jsx)("div",{children:(0,j.jsxs)(m.A,{name:"roomForm",form:z,layout:"vertical",onFinish:e=>{const l=e;var i;null!==c&&void 0!==c&&c.cmsId?(0,y.FM)({id:null===c||void 0===c?void 0:c.cmsId,body:l}).then((e=>{n({isOpen:!1,cmsId:""}),s(),h.Ay.success("Data updated successfully")})).catch((e=>console.log("err",e))):null===(i=(0,y.zF)({body:l}))||void 0===i||i.then((e=>{t(!1),s(),h.Ay.success("Data added successfully")})).catch((e=>{console.log("err :>> ",e)}))},autoComplete:"off",children:[(0,j.jsxs)(a.A,{gutter:[16,0],children:[(0,j.jsx)(r.A,{xs:24,md:12,children:(0,j.jsx)(m.A.Item,{label:"Room Number",name:"roomNumber",rules:[{required:!0,message:"Room number is required!"}],children:(0,j.jsx)(p.A,{})})}),(0,j.jsx)(r.A,{xs:24,md:12,children:(0,j.jsx)(m.A.Item,{label:"Room Type",name:"roomType",rules:[{required:!0,message:"Room type is required!"}],children:(0,j.jsxs)(u.A,{placeholder:"Select Room Type",children:[(0,j.jsx)(b,{value:"single",children:"Single"}),(0,j.jsx)(b,{value:"double",children:"Double"}),(0,j.jsx)(b,{value:"suite",children:"Suite"}),(0,j.jsx)(b,{value:"deluxe",children:"Deluxe"}),(0,j.jsx)(b,{value:"family",children:"Family"})]})})})]}),(0,j.jsxs)(a.A,{gutter:[16,0],children:[(0,j.jsx)(r.A,{xs:24,md:12,children:(0,j.jsx)(m.A.Item,{label:"Price Per Night",name:"pricePerNight",rules:[{required:!0,message:"Price per night is required!"}],children:(0,j.jsx)(A.A,{min:0,prefix:"\u20b9",style:{width:"100%"}})})}),(0,j.jsx)(r.A,{xs:24,md:12,children:(0,j.jsx)(m.A.Item,{label:"Max Occupancy",name:"maxOccupancy",rules:[{required:!0,message:"Max occupancy is required!"}],children:(0,j.jsx)(A.A,{min:1,max:10,style:{width:"100%"}})})})]}),(0,j.jsx)(a.A,{gutter:[16,0],children:(0,j.jsx)(r.A,{xs:24,md:12,children:(0,j.jsx)(m.A.Item,{label:"Is Available",name:"isAvailable",valuePropName:"checked",children:(0,j.jsx)(v.A,{})})})}),(0,j.jsx)(a.A,{gutter:[16,0],children:(0,j.jsx)(r.A,{xs:24,md:12,children:(0,j.jsx)(m.A.Item,{label:"Description",name:"description",children:(0,j.jsx)(p.A.TextArea,{rows:4})})})}),(0,j.jsxs)("div",{className:"flex justify-end gap-2 mt-5",children:[(0,j.jsx)(i.A,{onClick:()=>{z.resetFields(),t(!1),n({isOpen:!1,courseId:""}),f([])},children:"Cancel"}),(0,j.jsx)(i.A,{type:"primary",htmlType:"submit",loading:E,children:"Submit"})]})]})})}),(0,j.jsx)(d.A,{width:410,title:I,open:w,footer:null,onCancel:()=>{N(!1),C("")},destroyOnClose:!0,children:(0,j.jsx)("img",{src:g||"",alt:g,style:{width:"400px"}})})]})};var g=s(925),C=s(1734),w=s(7043);const N=()=>{const[e,t]=(0,l.useState)(!1),[s,u]=(0,l.useState)(0),[m,h]=(0,l.useState)({isOpen:!1,cmsId:""}),[x,p]=(0,l.useState)([]),A=[{title:"#Id",dataIndex:"id",key:"id",width:140},{title:"roomNumber",dataIndex:"roomNumber",key:"roomNumber",width:140},{title:"roomType",dataIndex:"roomType",key:"roomType",width:150},{title:"pricePerNight",dataIndex:"pricePerNight",key:"pricePerNight",width:150},{title:"Available",key:"isAvailable",width:150,render:(e,t)=>(0,j.jsx)("span",{style:{color:t.isAvailable?"green":"red"},children:t.isAvailable?"Available":"Not Available"})},{title:"Action",key:"action",render:(e,t)=>(0,j.jsxs)(c.A,{size:"middle",children:[(0,j.jsx)(i.A,{size:"middle",onClick:()=>h({isOpen:!0,cmsId:null===t||void 0===t?void 0:t.id}),children:"Edit"}),(0,j.jsx)(n.A,{title:"Are you sure to delete this Room?",onConfirm:()=>{(0,y.FN)({id:null===t||void 0===t?void 0:t._id}).then((e=>{console.log("res",e),message.success("Deleted Successfully"),v()})).catch((e=>console.log("err",e)))},okText:"Yes",cancelText:"No",children:(0,j.jsx)(i.A,{danger:!0,size:"middle",children:"Delete"})})]}),width:150}],v=()=>{(0,y.hV)({start:s,limit:10}).then((e=>{var t;e&&p(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.rows)})).catch((e=>console.log("err",e)))};return(0,l.useEffect)((()=>{v()}),[]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(C.z,{title:"Rooms",routes:[{path:"/",breadcrumbName:"Dashboard"},{path:"/rooms",breadcrumbName:"Rooms"}],className:"flex items-center justify-between px-8 xl:px-[15px] pt-2 pb-6 sm:pb-[30px] bg-transparent sm:flex-col"}),(0,j.jsx)(g.rQ,{className:"p-3",children:(0,j.jsx)(a.A,{gutter:16,children:(0,j.jsx)(r.A,{sm:24,xs:24,lg:24,className:"",children:(0,j.jsx)(w.C,{moreBtn:(0,j.jsx)(i.A,{type:"primary",onClick:()=>t(!0),children:"Add"}),border:!1,size:"default",children:(0,j.jsx)(o.A,{size:"small",scroll:{x:"100%",y:"auto"},columns:A,dataSource:x})})})})}),(0,j.jsx)(d.A,{title:"".concat(e?"Add":"Edit"),destroyOnClose:!0,open:e||m.isOpen,width:1024,footer:!1,onCancel:()=>{t(!1),h({isOpen:!1,cmsId:""})},children:(0,j.jsx)(f,{setisAddCms:t,getAllData:v,isEditCms:m,setIsEditCms:h})})]})}},8532:(e,t,s)=>{s.d(t,{FM:()=>r,FN:()=>d,W8:()=>a,hV:()=>n,zF:()=>i});var l=s(2170);const i=async e=>{let{body:t}=e;return await l.p.post("/rooms",t)},n=async e=>{let{start:t=0,limit:s=10}=e;return await l.p.get("/rooms?start=".concat(t,"&limit=").concat(s))},a=async e=>{let{id:t}=e;return await l.p.get("/rooms/".concat(t))},r=async e=>{let{id:t,body:s}=e;return await l.p.patch("/rooms/".concat(t),s)},d=async e=>{let{id:t}=e;return await l.p.delete("/rooms/".concat(t))}},7975:(e,t,s)=>{s.d(t,{V:()=>i});var l=s(2170);const i=async e=>await l.p.post("/upload",e)},1264:(e,t,s)=>{s.d(t,{A:()=>f});var l=s(8168),i=s(4467),n=s(164),a=s(4600),r=s.n(a),d=s(5544),c=s(45),o=s(5043),u=s(8678),m=s(5001),h=o.forwardRef((function(e,t){var s,l=e.prefixCls,n=void 0===l?"rc-switch":l,a=e.className,h=e.checked,x=e.defaultChecked,p=e.disabled,A=e.loadingIcon,v=e.checkedChildren,y=e.unCheckedChildren,j=e.onClick,b=e.onChange,f=e.onKeyDown,g=(0,c.A)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=(0,u.A)(!1,{value:h,defaultValue:x}),w=(0,d.A)(C,2),N=w[0],I=w[1];function k(e,t){var s=N;return p||(I(s=e),null===b||void 0===b||b(s,t)),s}var O=r()(n,a,(s={},(0,i.A)(s,"".concat(n,"-checked"),N),(0,i.A)(s,"".concat(n,"-disabled"),p),s));return o.createElement("button",Object.assign({},g,{type:"button",role:"switch","aria-checked":N,disabled:p,className:O,ref:t,onKeyDown:function(e){e.which===m.A.LEFT?k(!1,e):e.which===m.A.RIGHT&&k(!0,e),null===f||void 0===f||f(e)},onClick:function(e){var t=k(!N,e);null===j||void 0===j||j(t,e)}}),A,o.createElement("span",{className:"".concat(n,"-inner")},N?v:y))}));h.displayName="Switch";const x=h;var p=s(5296),A=s(8440),v=s(7063),y=s(6021),j=function(e,t){var s={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(s[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(l=Object.getOwnPropertySymbols(e);i<l.length;i++)t.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(s[l[i]]=e[l[i]])}return s},b=o.forwardRef((function(e,t){var s,a=e.prefixCls,d=e.size,c=e.disabled,u=e.loading,m=e.className,h=void 0===m?"":m,b=j(e,["prefixCls","size","disabled","loading","className"]),f=o.useContext(p.QO),g=f.getPrefixCls,C=f.direction,w=o.useContext(v.A),N=o.useContext(A.A),I=(null!==c&&void 0!==c?c:N)||u,k=g("switch",a),O=o.createElement("div",{className:"".concat(k,"-handle")},u&&o.createElement(n.A,{className:"".concat(k,"-loading-icon")})),S=r()((s={},(0,i.A)(s,"".concat(k,"-small"),"small"===(d||w)),(0,i.A)(s,"".concat(k,"-loading"),u),(0,i.A)(s,"".concat(k,"-rtl"),"rtl"===C),s),h);return o.createElement(y.A,{insertExtraNode:!0},o.createElement(x,(0,l.A)({},b,{prefixCls:k,className:S,disabled:I,ref:t,loadingIcon:O})))}));b.__ANT_SWITCH=!0;const f=b}}]);
//# sourceMappingURL=906.737e5f29.chunk.js.map