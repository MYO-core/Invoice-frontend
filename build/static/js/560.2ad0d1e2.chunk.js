"use strict";(self.webpackChunkhexadash_tailwind=self.webpackChunkhexadash_tailwind||[]).push([[560],{9560:(e,s,t)=>{t.r(s),t.d(s,{default:()=>w});var n=t(5043),o=t(6558),l=t(1802),i=t(6059),a=t(8193),r=t(9800),d=t(1645),c=t(2217),u=t(4435),m=t(9524),p=t(289),v=t(5397),h=t(6252),x=t(4406),f=t(6178),y=t.n(f),A=t(2170);var g=t(579);const C=e=>{let{setisAddRoom:s,isEditRoom:t,setIsEditRoom:i,getAllRoomList:r}=e;const[d,u]=(0,n.useState)([]),[m,f]=(0,n.useState)(""),[C,j]=(0,n.useState)(!1),[b,S]=(0,n.useState)(),[O,w]=(0,n.useState)(!1),[k,E]=(0,n.useState)(!1),[I]=p.A.useForm();return(0,n.useEffect)((()=>{console.log("====================",t),null!==t&&void 0!==t&&t.roomId&&(w(!0),(async e=>{let{id:s}=e;return await A.p.get("/session/".concat(s))})({id:null===t||void 0===t?void 0:t.roomId}).then((e=>{const s=null===e||void 0===e?void 0:e.data;s.session_start=y()(s.session_start),s.session_end=y()(s.session_end),I.setFieldsValue(s),w(!1)})).catch((e=>{console.log("err",e),w(!1)})))}),[null===t||void 0===t?void 0:t.roomId]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.A,{spinning:O,children:(0,g.jsx)("div",{children:(0,g.jsxs)(p.A,{form:I,name:"session",labelCol:{span:8},wrapperCol:{span:16},onFinish:e=>{const n={session_start:null===e||void 0===e?void 0:e.session_start,session_end:null===e||void 0===e?void 0:e.session_end,session_name:null===e||void 0===e?void 0:e.session_name,status:null===e||void 0===e?void 0:e.status};var o;null!==t&&void 0!==t&&t.roomId?(async e=>{let{id:s,body:t}=e;return await A.p.put("/session/".concat(s),t)})({id:null===t||void 0===t?void 0:t.roomId,body:n}).then((e=>{i({isOpen:!1,roomId:""}),r(),a.Ay.success("Status updated successfully")})).catch((e=>console.log("err",e))):null===(o=(async e=>{let{body:s}=e;return await A.p.post("/session",s)})({body:n}))||void 0===o||o.then((e=>{s(!1),r(),a.Ay.success("Status added successfully")})).catch((e=>{console.log("err :>> ",e)}))},autoComplete:"off",children:[(0,g.jsx)(p.A.Item,{label:"Session name",name:"session_name",rules:[{required:!0,message:"Required! "}],children:(0,g.jsx)(o.A,{})}),(0,g.jsx)(p.A.Item,{label:"Session start",name:"session_start",rules:[{required:!0,message:"Required! "}],children:(0,g.jsx)(h.A,{})}),(0,g.jsx)(p.A.Item,{label:"Session end",name:"session_end",rules:[{required:!0,message:"Required! "}],children:(0,g.jsx)(h.A,{})}),(0,g.jsx)(p.A.Item,{name:"status",label:"Status",children:(0,g.jsxs)(x.A,{placeholder:"Select option...",allowClear:!0,children:[(0,g.jsx)(Option,{value:"1",children:"Active"}),(0,g.jsx)(Option,{value:"0",children:"In-active"})]})}),(0,g.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,g.jsx)(l.A,{onClick:()=>{s(!1),i({isOpen:!1,roomId:""}),u([])},children:"Cancel"}),(0,g.jsx)(l.A,{type:"primary",htmlType:"submit",loading:k,children:"Submit"})]})]})})}),(0,g.jsx)(c.A,{width:410,title:b,open:C,footer:null,onCancel:()=>{j(!1),f("")},destroyOnClose:!0,children:(0,g.jsx)("img",{src:m||"",alt:m,style:{width:"400px"}})})]})};var j=t(925),b=t(1734),S=t(7043);const{Search:O}=o.A,w=()=>{const[e,s]=(0,n.useState)(0),[t,o]=(0,n.useState)(0),[p,v]=(0,n.useState)(!1),[h,x]=(0,n.useState)({isOpen:!1,roomId:""}),[f,y]=(0,n.useState)([]),[w,k]=(0,n.useState)(""),[E,I]=(0,n.useState)(""),_=[{title:"session name",dataIndex:"session_name",key:"session_name",width:140},{title:"start date",dataIndex:"session_start",key:"session_start",width:140},{title:"end date",dataIndex:"session_end",key:"session_end",width:140},{title:"Status",dataIndex:"status",key:"status",width:140,render:e=>(0,g.jsx)("span",{children:1===e?"Active":"Inactive"})},{title:"Action",key:"action",render:(e,s)=>(0,g.jsxs)(u.A,{size:"middle",children:[(0,g.jsx)(l.A,{size:"middle",onClick:()=>x({isOpen:!0,roomId:null===s||void 0===s?void 0:s.id}),children:"Edit"}),(0,g.jsx)(i.A,{title:"Are you sure to delete this status?",onConfirm:()=>{(async e=>{let{id:s}=e;return await A.p.delete("/session/".concat(s))})({id:null===s||void 0===s?void 0:s.id}).then((e=>{console.log("res",e),a.Ay.success("Status Deleted Successfully"),N()})).catch((e=>console.log("err",e)))},okText:"Yes",cancelText:"No",children:(0,g.jsx)(l.A,{danger:!0,size:"middle",children:"Delete"})})]}),width:150}],N=()=>{(async e=>{let{start:s,limit:t,SessionNumber:n,session:o}=e;return await A.p.get("/session?start=".concat(s,"&limit=").concat(t))})({}).then((e=>{var s;e&&y(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data)})).catch((e=>console.log("err",e)))};(0,n.useEffect)((()=>{N()}),[w,E]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b.z,{title:"Status",routes:[{path:"/",breadcrumbName:"Dashboard"},{path:"/Status",breadcrumbName:"Status"}],className:"flex items-center justify-between px-8 xl:px-[15px] pt-2 pb-6 sm:pb-[30px] bg-transparent sm:flex-col"}),(0,g.jsx)(j.rQ,{className:"p-3",children:(0,g.jsx)(r.A,{gutter:16,children:(0,g.jsx)(d.A,{sm:24,xs:24,lg:24,className:"",children:(0,g.jsx)(S.C,{title:(0,g.jsx)("div",{className:"flex items-center gap-4",children:(0,g.jsx)("div",{children:(0,g.jsx)(O,{placeholder:"session name",allowClear:!0,enterButton:"Search",size:"middle",onSearch:e=>{k(e)}})})}),moreBtn:(0,g.jsx)(l.A,{type:"primary",onClick:()=>v(!0),children:"Add"}),border:!1,size:"default",children:(0,g.jsx)(m.A,{size:"small",scroll:{x:"100%",y:"auto"},columns:_,dataSource:f,pagination:{total:e,onChange:e=>{o(10*(e-1))}}})})})})}),(0,g.jsx)(c.A,{title:"".concat(p?"Add Session":"Edit Session"),destroyOnClose:!0,open:p||h.isOpen,footer:!1,onCancel:()=>{v(!1),x({isOpen:!1,roomId:""})},children:(0,g.jsx)(C,{setisAddRoom:v,isEditRoom:h,setIsEditRoom:x,getAllRoomList:N})})]})}},6059:(e,s,t)=>{t.d(s,{A:()=>b});var n=t(8168),o=t(5544),l=t(1376),i=t(4600),a=t.n(i),r=t(8678),d=t(5001),c=t(5043),u=t(5296),m=t(6282),p=t(2701),v=t(1802),h=t(3085),x=t(8046),f=t(8097),y=t(8376),A=t(8986),g=function(e){var s=e.prefixCls,t=e.okButtonProps,o=e.cancelButtonProps,l=e.title,i=e.cancelText,a=e.okText,r=e.okType,d=e.icon,m=e.showCancel,p=void 0===m||m,g=e.close,C=e.onConfirm,j=e.onCancel,b=c.useContext(u.QO).getPrefixCls;return c.createElement(f.A,{componentName:"Popconfirm",defaultLocale:y.A.Popconfirm},(function(e){return c.createElement("div",{className:"".concat(s,"-inner-content")},c.createElement("div",{className:"".concat(s,"-message")},d&&c.createElement("span",{className:"".concat(s,"-message-icon")},d),c.createElement("div",{className:"".concat(s,"-message-title")},(0,A.b)(l))),c.createElement("div",{className:"".concat(s,"-buttons")},p&&c.createElement(v.A,(0,n.A)({onClick:j,size:"small"},o),null!==i&&void 0!==i?i:e.cancelText),c.createElement(x.A,{buttonProps:(0,n.A)((0,n.A)({size:"small"},(0,h.D)(r)),t),actionFn:C,close:g,prefixCls:b("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==a&&void 0!==a?a:e.okText)))}))},C=void 0,j=function(e,s){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)s.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]])}return t};const b=c.forwardRef((function(e,s){var t=e.prefixCls,i=e.placement,v=void 0===i?"top":i,h=e.trigger,x=void 0===h?"click":h,f=e.okType,y=void 0===f?"primary":f,A=e.icon,b=void 0===A?c.createElement(l.A,null):A,S=e.children,O=e.overlayClassName,w=e.onOpenChange,k=e.onVisibleChange,E=j(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),I=c.useContext(u.QO).getPrefixCls,_=(0,r.A)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),N=(0,o.A)(_,2),R=N[0],T=N[1],P=function(e,s){T(e,!0),null===k||void 0===k||k(e,s),null===w||void 0===w||w(e,s)},z=I("popover",t),q=I("popconfirm",t),V=a()(q,O);return c.createElement(m.A,(0,n.A)({},E,{trigger:x,prefixCls:z,placement:v,onOpenChange:function(s){var t=e.disabled;void 0!==t&&t||P(s)},open:R,ref:s,overlayClassName:V,_overlay:c.createElement(g,(0,n.A)({okType:y,icon:b},e,{prefixCls:z,close:function(e){P(!1,e)},onConfirm:function(s){var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(C,s)},onCancel:function(s){var t;P(!1,s),null===(t=e.onCancel)||void 0===t||t.call(C,s)}}))}),(0,p.Ob)(S,{onKeyDown:function(e){var s,t;c.isValidElement(S)&&(null===(t=null===S||void 0===S?void 0:(s=S.props).onKeyDown)||void 0===t||t.call(s,e)),function(e){e.keyCode===d.A.ESC&&R&&P(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=560.2ad0d1e2.chunk.js.map