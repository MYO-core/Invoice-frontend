"use strict";(self.webpackChunkhexadash_tailwind=self.webpackChunkhexadash_tailwind||[]).push([[976],{42113:(e,t,n)=>{n.d(t,{A:()=>l});n(65043);const l=n.p+"static/media/home.f87e389a5c1850fe48b55156d6a0d7b7.svg"},91734:(e,t,n)=>{n.d(t,{z:()=>h});var l,o,a=n(97775),s=n(35475),r=n(31105),i=n(57528),c=n(67947),d=n(94574);const m=(0,d.Ay)(c.A)(l||(l=(0,i.A)(["\n  .ant-breadcrumb {\n    ol{\n      @media (max-width: 575px) {\n        justify-content: center;\n      }\n    }\n    li{\n        display:flex;\n        align-items:center;\n    }\n  }\n"]))),u=d.Ay.div(o||(o=(0,i.A)(["\n  \n"])));var p=n(70579);function h(e){const{title:t,subTitle:l,routes:o,buttons:i,ghost:c,bgColor:d,className:h}=e,x=o?(0,p.jsx)(a.A,{className:"flex order-2 relative top-1.5",separator:(0,p.jsx)("span",{className:"inline-flex bg-light-extra relative -top-0.5 w-1 h-1 rounded-full"}),children:o.map(((e,t)=>t+1===o.length?(0,p.jsx)(a.A.Item,{className:"text-breadcrumbs dark:text-white30 text-15",children:e.breadcrumbName},t):(0,p.jsxs)(a.A.Item,{className:"inline-flex items-start",children:[(0,p.jsx)(r.k,{className:"relative top-0.5 ltr:mr-2 rtl:ml-2 [&>div>svg]:text-[#8c90a4] dark:[&>div>svg]:text-white60 ",src:n(42113).A})," ",(0,p.jsx)(s.N_,{to:e.path,className:"text-light hover:text-primary dark:text-[#a4a5aa] dark:hover:text-white87 text-sm",children:e.breadcrumbName})]},t)))}):"";return(0,p.jsx)(u,{bgColor:d,children:(0,p.jsx)(m,{className:"".concat(h),title:t,subTitle:l,breadcrumb:x,extra:i,ghost:c})})}},25976:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var l=n(65043),o=n(33307),a=n(89421),s=n(28440),r=n(48193),i=n(47419),c=n(11645),d=n(33946),m=n(64435),u=n(10444),p=n(50289),h=n(5397),x=n(78186),v=n(46157),f=n(70579);const A=e=>{let{setisAddRoom:t,isEditRoom:n,setIsEditRoom:s,getAllRoomList:m}=e;const[u,A]=(0,l.useState)(!1),[g,y]=(0,l.useState)(),[b,C]=(0,l.useState)(!1),[j,N]=(0,l.useState)(!1),[w]=p.A.useForm(),E=["Users","Roles","Invoices","Customers","Stores","Company"],O=["add","edit","view","delete"];return(0,l.useEffect)((()=>{null!==n&&void 0!==n&&n.roleId&&(C(!0),(0,v.xF)({id:null===n||void 0===n?void 0:n.roleId}).then((e=>{var t;let n=null===e||void 0===e?void 0:e.data;const l={name:n.name};null===n||void 0===n||null===(t=n.permission)||void 0===t||t.forEach((e=>{O.forEach((t=>{l["".concat(e.module,"-").concat(t)]=e[t]}))})),w.setFieldsValue(l),C(!1)})).catch((e=>{console.log("err",e),C(!1)})))}),[null===n||void 0===n?void 0:n.roleId]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h.A,{spinning:b,children:(0,f.jsx)("div",{children:(0,f.jsxs)(p.A,{form:w,name:"Roles",labelCol:{span:8},wrapperCol:{span:16},onFinish:e=>{const l=E.map((t=>{const n={};return O.forEach((l=>{n[l]=e["".concat(t,"-").concat(l)]||!1})),{module:t,...n}})),o={name:e.name,permission:l};var a;null!==n&&void 0!==n&&n.roleId?(0,v.S0)({id:null===n||void 0===n?void 0:n.roleId,body:o}).then((e=>{s({isOpen:!1,roleId:""}),m(),r.Ay.success("Role updated successfully")})).catch((e=>{console.log("err",e),r.Ay.error("Something Went Wrong")})):null===(a=(0,v.vZ)({body:o}))||void 0===a||a.then((e=>{t(!1),m(),r.Ay.success("Role added successfully")})).catch((e=>{console.log("err :>> ",e),r.Ay.error("Something Went Wrong")}))},autoComplete:"off",children:[(0,f.jsx)(i.A,{gutter:16,children:(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(p.A.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Required! "}],children:(0,f.jsx)(o.A,{})})})}),E.map((e=>(0,f.jsx)(i.A,{gutter:24,children:(0,f.jsx)(c.A,{span:24,children:(0,f.jsx)(p.A.Item,{label:e,labelCol:{span:4},wrapperCol:{span:20},children:O.map((t=>(0,f.jsx)(p.A.Item,{name:"".concat(e,"-").concat(t),valuePropName:"checked",noStyle:!0,children:(0,f.jsx)(x.A,{children:t.charAt(0).toUpperCase()+t.slice(1)})},"".concat(e,"-").concat(t))))})})},e))),(0,f.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,f.jsx)(a.A,{onClick:()=>{t(!1),s({isOpen:!1,RoleId:""})},children:"Cancel"}),(0,f.jsx)(a.A,{type:"primary",htmlType:"submit",loading:j,children:"Submit"})]})]})})}),(0,f.jsx)(d.A,{width:700,title:g,open:u,footer:null,onCancel:()=>{A(!1)},destroyOnClose:!0})]})};var g=n(40925),y=n(91734),b=n(57043);const{Search:C}=o.A,j=()=>{const[e,t]=(0,l.useState)(0),[n,o]=(0,l.useState)(0),[p,h]=(0,l.useState)(!1),[x,j]=(0,l.useState)({isOpen:!1,roleId:""}),[N,w]=(0,l.useState)([]),[E,O]=(0,l.useState)(""),[S,k]=(0,l.useState)(""),R=[{title:"name",dataIndex:"name",key:"name",width:140},{title:"Action",key:"action",render:(e,t)=>(0,f.jsxs)(m.A,{size:"middle",children:[(0,f.jsx)(a.A,{size:"middle",onClick:()=>{j({isOpen:!0,roleId:null===t||void 0===t?void 0:t.id}),console.log(x)},children:"Edit"}),(0,f.jsx)(s.A,{title:"Are you sure to delete this role?",onConfirm:()=>{(0,v.EO)({id:null===t||void 0===t?void 0:t.id}).then((e=>{console.log("res",e),r.Ay.success("Role Deleted Successfully"),I()})).catch((e=>{console.log("err",e),r.Ay.error("Something Went Wrong")}))},okText:"Yes",cancelText:"No",children:(0,f.jsx)(a.A,{danger:!0,size:"middle",children:"Delete"})})]}),width:150}],I=()=>{(0,v.L_)({}).then((e=>{var t;e&&w(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)})).catch((e=>console.log("err",e)))};(0,l.useEffect)((()=>{I()}),[E,S]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(y.z,{title:"Roles",routes:[{path:"/",breadcrumbName:"Dashboard"},{path:"/roles",breadcrumbName:"Roles"}],className:"flex items-center justify-between px-8 xl:px-[15px] pt-2 pb-6 sm:pb-[30px] bg-transparent sm:flex-col"}),(0,f.jsx)(g.rQ,{className:"p-3",children:(0,f.jsx)(i.A,{gutter:16,children:(0,f.jsx)(c.A,{sm:24,xs:24,lg:24,className:"",children:(0,f.jsx)(b.C,{title:(0,f.jsx)("div",{className:"flex items-center gap-4",children:(0,f.jsx)("div",{children:(0,f.jsx)(C,{placeholder:"Search",allowClear:!0,enterButton:"Search",size:"middle",onSearch:e=>{O(e)}})})}),moreBtn:(0,f.jsx)(a.A,{type:"primary",onClick:()=>h(!0),children:"Add"}),border:!1,size:"default",children:(0,f.jsx)(u.A,{scroll:{x:"100%",y:"auto"},size:"small",columns:R,dataSource:N,pagination:{total:e,onChange:e=>{o(10*(e-1))}}})})})})}),(0,f.jsx)(d.A,{title:"".concat(p?"Add Role":"Edit Role"),destroyOnClose:!0,open:p||x.isOpen,footer:!1,onCancel:()=>{h(!1),j({isOpen:!1,roleId:""})},children:(0,f.jsx)(A,{setisAddRoom:h,isEditRoom:x,setIsEditRoom:j,getAllRoomList:I})})]})}},46157:(e,t,n)=>{n.d(t,{EO:()=>i,L_:()=>a,S0:()=>r,vZ:()=>o,xF:()=>s});var l=n(32170);const o=async e=>{let{body:t}=e;return await l.p.post("/roles",t)},a=async e=>{let{start:t,limit:n,RoleNumber:o,status:a}=e;return await l.p.get("/roles?start=".concat(t,"&limit=").concat(n))},s=async e=>{let{id:t}=e;return await l.p.get("/roles/".concat(t))},r=async e=>{let{id:t,body:n}=e;return await l.p.patch("/roles/".concat(t),n)},i=async e=>{let{id:t}=e;return await l.p.delete("/roles/".concat(t))}},28440:(e,t,n)=>{n.d(t,{A:()=>j});var l=n(58168),o=n(5544),a=n(51376),s=n(64600),r=n.n(s),i=n(28678),c=n(25001),d=n(65043),m=n(35296),u=n(36282),p=n(12701),h=n(89421),x=n(83085),v=n(38046),f=n(38097),A=n(8376),g=n(98986),y=function(e){var t=e.prefixCls,n=e.okButtonProps,o=e.cancelButtonProps,a=e.title,s=e.cancelText,r=e.okText,i=e.okType,c=e.icon,u=e.showCancel,p=void 0===u||u,y=e.close,b=e.onConfirm,C=e.onCancel,j=d.useContext(m.QO).getPrefixCls;return d.createElement(f.A,{componentName:"Popconfirm",defaultLocale:A.A.Popconfirm},(function(e){return d.createElement("div",{className:"".concat(t,"-inner-content")},d.createElement("div",{className:"".concat(t,"-message")},c&&d.createElement("span",{className:"".concat(t,"-message-icon")},c),d.createElement("div",{className:"".concat(t,"-message-title")},(0,g.b)(a))),d.createElement("div",{className:"".concat(t,"-buttons")},p&&d.createElement(h.A,(0,l.A)({onClick:C,size:"small"},o),null!==s&&void 0!==s?s:e.cancelText),d.createElement(v.A,{buttonProps:(0,l.A)((0,l.A)({size:"small"},(0,x.D)(i)),n),actionFn:b,close:y,prefixCls:j("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==r&&void 0!==r?r:e.okText)))}))},b=void 0,C=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(l=Object.getOwnPropertySymbols(e);o<l.length;o++)t.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(n[l[o]]=e[l[o]])}return n};const j=d.forwardRef((function(e,t){var n=e.prefixCls,s=e.placement,h=void 0===s?"top":s,x=e.trigger,v=void 0===x?"click":x,f=e.okType,A=void 0===f?"primary":f,g=e.icon,j=void 0===g?d.createElement(a.A,null):g,N=e.children,w=e.overlayClassName,E=e.onOpenChange,O=e.onVisibleChange,S=C(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),k=d.useContext(m.QO).getPrefixCls,R=(0,i.A)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),I=(0,o.A)(R,2),T=I[0],P=I[1],z=function(e,t){P(e,!0),null===O||void 0===O||O(e,t),null===E||void 0===E||E(e,t)},F=k("popover",n),V=k("popconfirm",n),D=r()(V,w);return d.createElement(u.A,(0,l.A)({},S,{trigger:v,prefixCls:F,placement:h,onOpenChange:function(t){var n=e.disabled;void 0!==n&&n||z(t)},open:T,ref:t,overlayClassName:D,_overlay:d.createElement(y,(0,l.A)({okType:A,icon:j},e,{prefixCls:F,close:function(e){z(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(b,t)},onCancel:function(t){var n;z(!1,t),null===(n=e.onCancel)||void 0===n||n.call(b,t)}}))}),(0,p.Ob)(N,{onKeyDown:function(e){var t,n;d.isValidElement(N)&&(null===(n=null===N||void 0===N?void 0:(t=N.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===c.A.ESC&&T&&z(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=976.b71ed0f6.chunk.js.map