"use strict";(self.webpackChunkhexadash_tailwind=self.webpackChunkhexadash_tailwind||[]).push([[906],{906:(e,l,t)=>{t.r(l),t.d(l,{default:()=>I});var s=t(5043),i=t(6558),a=t(1802),n=t(6059),c=t(9800),r=t(1645),d=t(1264),o=t(4406),u=t(2217),m=t(4435),h=t(9524),x=t(289),p=t(8193),A=t(5397),v=t(3428),y=(t(3906),t(726),t(7975),t(8532)),j=t(579);const{Option:b}=o.A,g=e=>{let{setisAddCms:l,getAllData:t,setIsEditCms:n,isEditCms:m}=e;const[h,g]=(0,s.useState)([]),[f,C]=(0,s.useState)(""),[w,N]=(0,s.useState)(!1),[I,S]=(0,s.useState)(),[k,O]=(0,s.useState)(!1),[E,D]=(0,s.useState)(!1),[F,T]=(0,s.useState)(null);console.log("content1Output",F);const[R,P]=(0,s.useState)(null),[z]=x.A.useForm();return(0,s.useEffect)((()=>{null!==m&&void 0!==m&&m.cmsId&&(O(!0),(0,y.W8)({id:null===m||void 0===m?void 0:m.cmsId}).then((e=>{var l,t,s;z.setFieldsValue(null===e||void 0===e?void 0:e.data),P(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.description);const i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(s=t.media)||void 0===s?void 0:s.filesData;g(i),O(!1)})).catch((e=>{console.log("err",e),O(!1)})))}),[null===m||void 0===m?void 0:m.cmsId]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(A.A,{spinning:k,children:(0,j.jsx)("div",{children:(0,j.jsxs)(x.A,{name:"roomForm",form:z,layout:"vertical",onFinish:e=>{const s=e;var i;null!==m&&void 0!==m&&m.cmsId?(0,y.FM)({id:null===m||void 0===m?void 0:m.cmsId,body:s}).then((e=>{n({isOpen:!1,cmsId:""}),t(),p.Ay.success("Data updated successfully")})).catch((e=>console.log("err",e))):null===(i=(0,y.zF)({body:s}))||void 0===i||i.then((e=>{l(!1),t(),p.Ay.success("Data added successfully")})).catch((e=>{console.log("err :>> ",e)}))},autoComplete:"off",children:[(0,j.jsxs)(c.A,{gutter:[16,0],children:[(0,j.jsx)(r.A,{xs:24,md:12,children:(0,j.jsx)(x.A.Item,{label:"Room Number",name:"roomNumber",rules:[{required:!0,message:"Room number is required!"}],children:(0,j.jsx)(i.A,{})})}),(0,j.jsx)(r.A,{xs:24,md:12,children:(0,j.jsx)(x.A.Item,{label:"Room Type",name:"roomType",rules:[{required:!0,message:"Room type is required!"}],children:(0,j.jsxs)(o.A,{placeholder:"Select Room Type",children:[(0,j.jsx)(b,{value:"single",children:"Single"}),(0,j.jsx)(b,{value:"double",children:"Double"}),(0,j.jsx)(b,{value:"suite",children:"Suite"}),(0,j.jsx)(b,{value:"deluxe",children:"Deluxe"}),(0,j.jsx)(b,{value:"family",children:"Family"})]})})})]}),(0,j.jsxs)(c.A,{gutter:[16,0],children:[(0,j.jsx)(r.A,{xs:24,md:12,children:(0,j.jsx)(x.A.Item,{label:"Price Per Night",name:"pricePerNight",rules:[{required:!0,message:"Price per night is required!"}],children:(0,j.jsx)(v.A,{min:0,prefix:"\u20b9",style:{width:"100%"}})})}),(0,j.jsx)(r.A,{xs:24,md:12,children:(0,j.jsx)(x.A.Item,{label:"Max Occupancy",name:"maxOccupancy",rules:[{required:!0,message:"Max occupancy is required!"}],children:(0,j.jsx)(v.A,{min:1,max:10,style:{width:"100%"}})})})]}),(0,j.jsx)(c.A,{gutter:[16,0],children:(0,j.jsx)(r.A,{xs:24,md:12,children:(0,j.jsx)(x.A.Item,{label:"Is Available",name:"isAvailable",valuePropName:"checked",children:(0,j.jsx)(d.A,{})})})}),(0,j.jsx)(c.A,{gutter:[16,0],children:(0,j.jsx)(r.A,{xs:24,md:12,children:(0,j.jsx)(x.A.Item,{label:"Description",name:"description",children:(0,j.jsx)(i.A.TextArea,{rows:4})})})}),(0,j.jsxs)("div",{className:"flex justify-end gap-2 mt-5",children:[(0,j.jsx)(a.A,{onClick:()=>{z.resetFields(),l(!1),n({isOpen:!1,courseId:""}),g([])},children:"Cancel"}),(0,j.jsx)(a.A,{type:"primary",htmlType:"submit",loading:E,children:"Submit"})]})]})})}),(0,j.jsx)(u.A,{width:410,title:I,open:w,footer:null,onCancel:()=>{N(!1),C("")},destroyOnClose:!0,children:(0,j.jsx)("img",{src:f||"",alt:f,style:{width:"400px"}})})]})};var f=t(925),C=t(1734),w=t(7043);const{Search:N}=i.A,I=()=>{const[e,l]=(0,s.useState)(!1),[t,i]=(0,s.useState)(0),[x,p]=(0,s.useState)(""),[A,v]=(0,s.useState)(""),[b,I]=(0,s.useState)(!1),[S,k]=(0,s.useState)({isOpen:!1,cmsId:""}),[O,E]=(0,s.useState)([]),D=[{title:"#Id",dataIndex:"id",key:"id",width:140},{title:"roomNumber",dataIndex:"roomNumber",key:"roomNumber",width:140},{title:"roomType",dataIndex:"roomType",key:"roomType",width:150},{title:"pricePerNight",dataIndex:"pricePerNight",key:"pricePerNight",width:150},{title:"Available",key:"isAvailable",width:150,render:(e,l)=>(0,j.jsx)("span",{style:{color:l.isAvailable?"green":"red"},children:l.isAvailable?"Available":"Not Available"})},{title:"Action",key:"action",render:(e,l)=>(0,j.jsxs)(m.A,{size:"middle",children:[(0,j.jsx)(a.A,{size:"middle",onClick:()=>k({isOpen:!0,cmsId:null===l||void 0===l?void 0:l.id}),children:"Edit"}),(0,j.jsx)(n.A,{title:"Are you sure to delete this Room?",onConfirm:()=>{(0,y.FN)({id:null===l||void 0===l?void 0:l._id}).then((e=>{console.log("res",e),message.success("Deleted Successfully"),F()})).catch((e=>console.log("err",e)))},okText:"Yes",cancelText:"No",children:(0,j.jsx)(a.A,{danger:!0,size:"middle",children:"Delete"})})]}),width:150}],F=e=>{let{search:l,type:s,isAvailable:i}=e;(0,y.hV)({start:t,limit:10,search:l,type:s,isAvailable:i}).then((e=>{var l;e&&E(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.rows)})).catch((e=>console.log("err",e)))};(0,s.useEffect)((()=>{F({search:x,type:A,isAvailable:b})}),[x,A,b]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(C.z,{title:"Rooms",routes:[{path:"/",breadcrumbName:"Dashboard"},{path:"/rooms",breadcrumbName:"Rooms"}],className:"flex items-center justify-between px-8 xl:px-[15px] pt-2 pb-6 sm:pb-[30px] bg-transparent sm:flex-col"}),(0,j.jsx)(f.rQ,{className:"p-3",children:(0,j.jsx)(c.A,{gutter:16,children:(0,j.jsx)(r.A,{sm:24,xs:24,lg:24,className:"",children:(0,j.jsx)(w.C,{title:(0,j.jsxs)("div",{className:"flex items-center gap-4",children:[(0,j.jsx)("div",{children:(0,j.jsx)(d.A,{checked:b,onChange:e=>{I(!b)}})}),(0,j.jsx)("div",{children:(0,j.jsxs)(o.A,{style:{width:120},size:"medium",placeholder:"Room Type",onChange:e=>{v(e)},children:[(0,j.jsx)(Option,{value:"",children:"All"}),(0,j.jsx)(Option,{value:"single",children:"Single"}),(0,j.jsx)(Option,{value:"double",children:"Double"}),(0,j.jsx)(Option,{value:"suite",children:"Suite"}),(0,j.jsx)(Option,{value:"deluxe",children:"Deluxe"}),(0,j.jsx)(Option,{value:"family",children:"Family"})]})}),(0,j.jsx)("div",{children:(0,j.jsx)(N,{placeholder:"Room Number",allowClear:!0,enterButton:"Search",size:"middle",onSearch:e=>{p(e)}})})]}),moreBtn:(0,j.jsx)(a.A,{type:"primary",onClick:()=>l(!0),children:"Add"}),children:(0,j.jsx)(h.A,{size:"small",scroll:{x:"100%",y:"auto"},columns:D,dataSource:O})})})})}),(0,j.jsx)(u.A,{title:"".concat(e?"Add":"Edit"),destroyOnClose:!0,open:e||S.isOpen,width:1024,footer:!1,onCancel:()=>{l(!1),k({isOpen:!1,cmsId:""})},children:(0,j.jsx)(g,{setisAddCms:l,getAllData:F,isEditCms:S,setIsEditCms:k})})]})}},8532:(e,l,t)=>{t.d(l,{FM:()=>c,FN:()=>r,W8:()=>n,hV:()=>a,zF:()=>i});var s=t(2170);const i=async e=>{let{body:l}=e;return await s.p.post("/rooms",l)},a=async e=>{let{start:l=0,limit:t=10,search:i,type:a,isAvailable:n}=e,c=i?"&search=".concat(i):"",r=a?"&roomType=".concat(a):"",d=n?"&isAvailable=".concat(n):"";return await s.p.get("/rooms?start=".concat(l,"&limit=").concat(t).concat(c).concat(r).concat(d))},n=async e=>{let{id:l}=e;return await s.p.get("/rooms/".concat(l))},c=async e=>{let{id:l,body:t}=e;return await s.p.patch("/rooms/".concat(l),t)},r=async e=>{let{id:l}=e;return await s.p.delete("/rooms/".concat(l))}},7975:(e,l,t)=>{t.d(l,{V:()=>i});var s=t(2170);const i=async e=>await s.p.post("/upload",e)},1264:(e,l,t)=>{t.d(l,{A:()=>g});var s=t(8168),i=t(4467),a=t(164),n=t(4600),c=t.n(n),r=t(5544),d=t(45),o=t(5043),u=t(8678),m=t(5001),h=o.forwardRef((function(e,l){var t,s=e.prefixCls,a=void 0===s?"rc-switch":s,n=e.className,h=e.checked,x=e.defaultChecked,p=e.disabled,A=e.loadingIcon,v=e.checkedChildren,y=e.unCheckedChildren,j=e.onClick,b=e.onChange,g=e.onKeyDown,f=(0,d.A)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=(0,u.A)(!1,{value:h,defaultValue:x}),w=(0,r.A)(C,2),N=w[0],I=w[1];function S(e,l){var t=N;return p||(I(t=e),null===b||void 0===b||b(t,l)),t}var k=c()(a,n,(t={},(0,i.A)(t,"".concat(a,"-checked"),N),(0,i.A)(t,"".concat(a,"-disabled"),p),t));return o.createElement("button",Object.assign({},f,{type:"button",role:"switch","aria-checked":N,disabled:p,className:k,ref:l,onKeyDown:function(e){e.which===m.A.LEFT?S(!1,e):e.which===m.A.RIGHT&&S(!0,e),null===g||void 0===g||g(e)},onClick:function(e){var l=S(!N,e);null===j||void 0===j||j(l,e)}}),A,o.createElement("span",{className:"".concat(a,"-inner")},N?v:y))}));h.displayName="Switch";const x=h;var p=t(5296),A=t(8440),v=t(7063),y=t(6021),j=function(e,l){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&l.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)l.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(t[s[i]]=e[s[i]])}return t},b=o.forwardRef((function(e,l){var t,n=e.prefixCls,r=e.size,d=e.disabled,u=e.loading,m=e.className,h=void 0===m?"":m,b=j(e,["prefixCls","size","disabled","loading","className"]),g=o.useContext(p.QO),f=g.getPrefixCls,C=g.direction,w=o.useContext(v.A),N=o.useContext(A.A),I=(null!==d&&void 0!==d?d:N)||u,S=f("switch",n),k=o.createElement("div",{className:"".concat(S,"-handle")},u&&o.createElement(a.A,{className:"".concat(S,"-loading-icon")})),O=c()((t={},(0,i.A)(t,"".concat(S,"-small"),"small"===(r||w)),(0,i.A)(t,"".concat(S,"-loading"),u),(0,i.A)(t,"".concat(S,"-rtl"),"rtl"===C),t),h);return o.createElement(y.A,{insertExtraNode:!0},o.createElement(x,(0,s.A)({},b,{prefixCls:S,className:O,disabled:I,ref:l,loadingIcon:k})))}));b.__ANT_SWITCH=!0;const g=b}}]);
//# sourceMappingURL=906.6b3f651d.chunk.js.map